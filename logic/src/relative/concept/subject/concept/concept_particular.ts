import type { Chunk, LogicalOperation } from '../syllogism/index';

/**
 * THE PARTICULAR CONCEPT — Complete Structure
 * 
 * NOTE: Particularity is the determinateness of the concept—the universal's own
 * immanent moment. This is the moment of "being" in the concept, simpler than
 * reflection/existence determinations, yet essential for the concept's self-determination.
 * 
 * Structure:
 * - Immanent determinateness
 * - Universality as substance and totality
 * - Contingent completeness
 * - Intrinsic totality and principle
 * - Universal self-determination
 * - True logical division
 * - Difference in its truth
 * - Completeness and nature
 * - Mediated immediacy (form/content)
 * - Determinate universality and abstract universal
 * - Understanding and abstraction limits
 * - Empty vs principled concepts
 */

export const CANONICAL_CHUNKS: Chunk[] = [
  {
    id: 'con-part-1-immanent-determinateness',
    title: 'Particularity: determinateness of the concept; immanent to the universal',
    text: `B. THE PARTICULAR CONCEPT

Determinateness as such belongs to being and the qualitative;
as the determinateness of the concept, it is particularity.
It is not a limit, as if it were related to an other beyond it,
but is rather, as just shown, the universal's own immanent moment;
in particularity, therefore, the universal is not
in an other but simply and solely with itself.`,
    summary: 'Particularity = determinateness of the concept; not an external limit. It is the universal’s own immanent moment (universal with itself in it).'
  },
  {
    id: 'con-part-2-universality-as-substance-totality',
    title: 'Particular contains universality; diversity as universal totality',
    text: `The particular contains the universality
that constitutes its substance;
the genus is unaltered in its species;
these do not differ from the universal
but only from each other.
The particular has one and the same universality as
the other particulars to which it is related.
The diversity of these particulars,
because of their identity with the universal, is
as such at the same time universal;
it is totality.
The particular, therefore,
does not only contain the universal
but exhibits it also through its determinateness;
accordingly the universal constitutes a sphere
that the particular must exhaust.
This totality, inasmuch as the determinateness
of the particular is taken as mere diversity,
appears as completeness.`,
    summary: 'Particulars share and exhibit the same universality; their diversity is universal as totality. If taken as mere diversity, totality appears as completeness to be exhausted.'
  },
  {
    id: 'con-part-3-contingent-completeness',
    title: 'Completeness without inner standard; universality as external reflex',
    text: `In this respect, the species are complete
simply in so far as there are no more of them.
There is no inner standard or principle available for them,
for their diversity is just the dispersed difference
for which the universality,
which is for itself absolute unity,
is a merely external reflex
and an unconstrained, contingent completeness.`,
    summary: '“Completeness” (counting species) lacks an inner standard; universality appears merely as an external reflex, yielding contingent completeness.'
  },
  {
    id: 'con-part-4-particularity-as-immanent-connection',
    title: 'From diversity to opposition; particularity as intrinsic totality and principle',
    text: `But diversity passes over into opposition,
into an immanent connection of diverse moments.
Particularity, however,
because it is universality,
is this immanent connection,
not by virtue of a transition,
but in and for itself.
It is totality intrinsically,
and simple determinateness,
essential principle.
It has no other determinateness than
that posited by the universal itself
and resulting from it in the following manner.`,
    summary: 'Beyond mere diversity: opposition = immanent connection. Particularity (as universality) is intrinsic totality and essential principle; its determinateness is only what the universal posits.'
  },
  {
    id: 'con-part-5-self-determination-of-universal',
    title: 'Universal self-determines as particular; species as (a) universal (b) particular',
    text: `The particular is the universal itself,
but it is its difference or reference to an other,
its outwardly reflecting shine;
but there is no other at hand from which
the particular would be differentiated
than the universal itself.
The universal determines itself,
and so is itself the particular;
the determinateness is its difference;
it is only differentiated from itself.
Its species are therefore
only (a) the universal itself
and (b) the particular.
The universal is as concept itself and its opposite,
and this opposite is in turn the universal itself
as its posited determinateness;
the universal overreaches it
and, in it, it is with itself.
Thus it is the totality and the principle of its diversity,
which is determined wholly and solely through itself.`,
    summary: 'Universal differentiates only from itself: becomes the particular. Species: (a) universal itself, (b) particular. The universal overreaches its opposite and remains with itself—principle of its own diversity.'
  },
  {
    id: 'con-part-6-true-logical-division',
    title: 'True logical division: two coordinated particulars; one negativity',
    text: `There is, therefore, no other
true logical division than this,
that the concept sets itself on one side
as the immediate, indeterminate universality;
it is this very indeterminateness
that makes its determinateness,
or that it is a particular.
The two are both a particular
and are therefore coordinated.
Both, as particular, are also
determinate as against the universal,
and in this sense they are subordinated to it.
But even this universal,
as against which the particular is determined,
is for that reason itself also
just one of the opposing sides.
When we speak of two opposing sides,
we must repeat that the two constitute the particular,
not just together, as if they were alike
in being particular only for external reflection,
but because their determinateness over against each other is
at the same time essentially only one determinateness;
it is the negativity which in the universal is simple.`,
    summary: 'Division: concept as indeterminate U makes itself P; the two sides are coordinated particulars, subordinated to U, yet that U is also a side. Their opposition = one determinateness: simple negativity in the universal.'
  },
  {
    id: 'con-part-7-difference-in-concept',
    title: 'Difference in its truth: from limit/relative to concept-unity; one determinate concept',
    text: `Difference, as it presents itself here,
is in its concept and therefore in its truth.
All previous difference has this unity in the concept.
As it is present immediately in being,
difference is the limit of an other;
as present in reflection, it is relative,
posited as referring essentially to its other;
here is where the unity of the concept
thus begins to be posited;
at first, however, the unity is only
a reflective shine in an other.
The true significance of the transitoriness
and the dissolution of these determinations is just this,
that they attain to their concept, to their truth;
being, existence, something,
or whole and part, and so on,
substance and accidents, cause and effect,
are thought determinations on their own;
as determinate concepts, however,
they are grasped in so far as each
is cognized in unity with its others
or in opposition to them.
Whole and parts, for example,
or cause and effect, and so on,
are not yet diverse terms
that are determined as particular
relatively to each other,
for although they implicitly constitute one concept,
their unity has not yet attained the form of universality;
thus the difference as well which is in these relations,
does not yet have the form of being one determinateness.
Cause and effect, for example, are not two diverse concepts
but only one determinate concept,
and causality is, like every concept,
a simple concept.`,
    summary: 'Difference in truth = concept-unity. Earlier (being/reflection) differences are limit/relative. Whole–part, cause–effect, etc. are one determinate (simple) concept when grasped in unity.'
  },
  {
    id: 'con-part-8-completeness-and-nature',
    title: 'Completeness of particularity; impotence of nature; concept’s absolute power',
    text: `With respect to completeness,
we have just seen that the determinate moment
of  particularity is complete in the difference
of the universal and the particular,
and that only these two make up the particular species.
To be sure, there are more than two species
to be found in any genus in nature,
and these many species cannot stand
in the same relation to each other
as we have shown.
This is the impotence of nature,
that it cannot abide by and exhibit the rigor of the concept
and loses itself in a blind manifoldness void of concept.
We can wonder at nature,
at the manifoldness of its genera and species,
in the infinite diversity of its shapes,
for wonder is without concept
and its object is the irrational.
It is allowed to nature,
since nature is the self-externality of the concept,
to indulge in this diversity,
just as spirit, even though it possesses
the concept in the shape of concept,
lets itself go into pictorial representation
and runs wild in the infinite manifoldness of the latter.
The manifold genera and species of nature must not be
esteemed to be anything more than arbitrary notions of spirit
engaged in pictorial representations.
Both indeed show traces and intimations of the concept,
but they do not exhibit it in trustworthy copy,
for they are the sides of its free self-externality;
the concept is the absolute power precisely
because it can let its difference go free
in the shape of self-subsistent diversity,
external necessity, accidentality, arbitrariness, opinion;
all of which, however, must not be taken as anything
more than the abstract side of nothingness.`,
    summary: 'Particularity complete in U–P difference; nature’s many species = self-external manifoldness (no inner standard). Concept as absolute power lets differences go free—mere abstract side of nothingness.'
  },
  {
    id: 'con-part-9-abstract-universality-form-content',
    title: 'Mediated immediacy; abstract universality as form; determinateness as content',
    text: `As we have just seen, the determinateness of
the particular is simple as principle,
but it is also simple as a moment of the totality,
determinateness as against the other determinateness.
The concept, in determining or differentiating itself,
behaves negatively towards its unity
and gives itself the form of one
of its ideal moments of being;
as a determinate concept,
it has a determinate existence in general.
But this being no longer has
the significance of mere immediacy,
but has the significance rather of an immediacy
which is equal to itself by virtue of absolute mediation,
an immediacy that equally contains in itself
the other moment of essence or of reflection.
This universality, with which the determinate clothes itself,
is abstract universality.
The particular has this universality in it as its essence;
but in so far as the determinateness
of the difference is posited
and thereby has being,
the universality is form in it,
and the determinateness as such is its content.
Universality becomes form inasmuch as
the difference is something essential,
just as in the pure universal it is, on the contrary,
only absolute negativity
and not a difference posited as such.`,
    summary: 'Determinate concept = mediated immediacy (equal-to-itself via absolute mediation). In it, universality is form; determinateness is content—abstract universality as its clothing.'
  },
  {
    id: 'con-part-10-determinate-universality-and-abc',
    title: 'Particularity as determinate universality; abstract universal = U, D, immediate unity (no posited mediation)',
    text: `Now the determinateness is indeed an abstraction,
as against the other determinateness;
but the other determinateness is only universality itself,
and this too is therefore abstract universality;
and the determinateness of the concept, or particularity,
is again nothing more than determinate universality.
In this universality, the concept is outside itself,
and because it is it, the concept,
which is there outside itself,
the abstract-universal contains
all the moments of the concept.
It is
(a) universality,
(b) determinateness,
(c) the simple unity of the two;
but this unity is immediate,
and the particularity is not
therefore as totality.
Implicitly it is this totality also, and mediation;
it is essentially a reference to the other excluding it,
or the sublation of negation,
namely of the other determinateness
an other that lingers on only as an intention,
for it vanishes immediately revealing itself to be
the same as its other is supposed to be.
Therefore, what makes this universality an abstraction
is that the mediation is only a condition,
or is not posited in it.
Because it is not posited,
the unity of the abstraction has the form of immediacy,
and the content has the form of indifference to its universality,
for the content is nothing but this totality
which is the universality of absolute negativity.
Hence the abstract universal is indeed the concept,
but the unconceptualized concept,
the concept not posited as such.`,
    summary: 'Particularity = determinate universality. Abstract universal contains U, determinateness, and their immediate unity; mediation is only conditional (not posited) → “unconceptualized concept.”'
  },
  {
    id: 'con-part-11-understanding-and-abstraction-limits',
    title: 'Understanding’s abstract universal; limits; absolute substance still abstract; abstraction not empty',
    text: `When we speak of the determinate concept,
what we ordinarily mean is
precisely just this abstract universal.
Even by concept as such,
what is generally understood is
only this unconceptualized concept,
and the understanding is designated as its faculty.
Demonstration belongs to this understanding
inasmuch as it proceeds by way of concepts,
that is to say, only in determinations.
This progression by way of concepts does not therefore
reach past finitude and necessity;
the highest it reaches is the negative infinite,
the abstraction of the highest essence
which is itself the determinateness
of the indeterminateness.
Absolute substance, too, although not this empty abstraction
but on the contrary a totality according to content,
is still abstract, for since it is without absolute form,
its innermost truth is not constituted by the concept;
although it is the identity of universality and particularity,
or of thought and externality,
this identity is not the determinateness of the concept;
there is rather an understanding outside it,
an understanding which is contingent precisely
because it is outside it in which and for which
substance exists in diverse attributes and modes.
Moreover, abstraction is not as empty as
it is usually said to be;
it is the determinate concept;
it has some determinateness or other for its content;
the highest essence also, the pure abstraction,
has the determinateness of indeterminateness,
as just mentioned;
but indeterminateness is a determinateness
because it is supposed to stand opposite the determinate.
But the moment one says what it is,
its intended meaning sublates itself by itself;
for it is spoken of on a par with determinateness,
and from this abstraction the concept and its truth are brought out.`,
    summary: '“Concept” is often taken as abstract universal (faculty of understanding). This method stays within finitude/necessity/negative-infinite. Absolute substance lacks absolute form (still abstract). Abstraction isn’t empty; naming indeterminateness makes it determinate—exposing the concept and its truth.'
  },
  {
    id: 'con-part-12-empty-vs-principled-concepts',
    title: 'Empty determinate concepts vs principled differentiation; absolute determinateness as true content',
    text: `To be sure, any determinate concept is empty
in so far as it does not contain the totality,
but only a one-sided determinateness.
Even when it has otherwise concrete content
such as, for instance, humankind, the state, animal, etc.,
it remains an empty concept inasmuch as its determinateness is
not the principle of its differentiation;
the principle contains the beginning and the essence
of its development and realization;
any other determinateness of the concept is however otiose.
To reproach the concept as such for being empty is
to ignore its absolute determinateness
which is the difference of the concept
and the only true content in the element of the concept.`,
    summary: 'A determinate concept without totality/principle of differentiation is empty—even with concrete content. True content = absolute determinateness (the concept’s own difference).'
  }
]

export const LOGICAL_OPERATIONS: LogicalOperation[] = [
  {
    id: 'con-part-op-1-define-particularity',
    chunkId: 'con-part-1-immanent-determinateness',
    label: 'Define particularity as immanent determinateness (not external limit)',
    clauses: [
      'assert(Particularity == determinateness(Of:Concept))',
      'assert(immanentTo(Particularity, Universal) == true)',
      'assert(notExternalLimit(Particularity))'
    ],
    predicates: [{ name: 'DefinesParticularity', args: [] }],
    relations: [{ predicate: 'inheresIn', from: 'Particularity', to: 'Universal' }]
  },
  {
    id: 'con-part-op-2-diversity-as-totality',
    chunkId: 'con-part-2-universality-as-substance-totality',
    label: 'Diversity of particulars as universal totality; sphere to exhaust',
    clauses: [
      'assert(sharedUniversality(Particulars) == Universal)',
      'tag(Diversity,"universal-totality")',
      'assert(exhibits(Particular, Universal) && mustExhaust(Particular, sphereOf(Universal)))'
    ],
    predicates: [{ name: 'DiversityTotality', args: [] }],
    relations: [
      { predicate: 'sharesWith', from: 'Particulars', to: 'Universal' },
      { predicate: 'exhibits', from: 'Particular', to: 'Universal' }
    ]
  },
  {
    id: 'con-part-op-3-contingent-completeness',
    chunkId: 'con-part-3-contingent-completeness',
    label: 'Completeness without inner principle; universality as external reflex',
    clauses: [
      'tag(Completeness,"contingent")',
      'assert(noInnerStandard(SpeciesListing) == true)',
      'annotate(Universality,{mode:"external-reflex"})'
    ],
    predicates: [{ name: 'MarksContingentCompleteness', args: [] }],
    relations: [{ predicate: 'lacks', from: 'SpeciesListing', to: 'InnerPrinciple' }]
  },
  {
    id: 'con-part-op-4-intrinsic-totality',
    chunkId: 'con-part-4-particularity-as-immanent-connection',
    label: 'Particularity as intrinsic totality and essential principle',
    clauses: [
      'assert(intrinsicTotality(Particularity) == true)',
      'tag(Particularity,"essential-principle")',
      'assert(determinatenessOf(Particularity) == positedBy(Universal))'
    ],
    predicates: [{ name: 'AssertsIntrinsicTotality', args: [] }],
    relations: [
      { predicate: 'grounds', from: 'Universal', to: 'Determinateness(Particularity)' }
    ]
  },
  {
    id: 'con-part-op-5-universal-self-determines',
    chunkId: 'con-part-5-self-determination-of-universal',
    label: 'Universal self-determines as particular; species schema (U, P)',
 'Universal differentiates only from itself; becomes particular. Species: (a) universal itself, (b) particular. Universal overreaches its opposite and remains with itself.',
    clauses: [
      'assert(selfDetermines(Universal, as: Particular))',
      'assert(speciesOf(Universal) == ["Universal-itself","Particular"])',
      'assert(overreaches(Universal, itsOpposite:=Particular) && withItselfIn(Universal, Particular))'
    ],
    predicates: [{ name: 'UniversalBecomesParticular', args: [] }],
    relations: [
      { predicate: 'differentiatesFrom', from: 'Universal', to: 'Universal' },
      { predicate: 'becomes', from: 'Universal', to: 'Particular' }
    ]
  },
  {
    id: 'con-part-op-6-true-division',
    chunkId: 'con-part-6-true-logical-division',
    label: 'True logical division: two coordinated particulars; one simple negativity',
 'Concept sets itself as indeterminate U → P; both sides are particulars (coordinated, subordinated to U). Their opposition is one determinateness: simple negativity.',
    clauses: [
      'assert(divides(Concept) == { universal:"indeterminate", particular:true })',
      'tag(BothSides,"particular-and-coordinated")',
      'annotate(BothSides,{subordinatedTo:"Universal"})',
      'assert(oneDeterminateness(Opposition) == simpleNegativity(In:Universal))'
    ],
    predicates: [{ name: 'EncodesTrueDivision', args: [] }],
    relations: [
      { predicate: 'coordinates', from: 'Universal|Particular', to: 'Particulars' }
    ]
  },
  {
    id: 'con-part-op-7-difference-in-truth',
    chunkId: 'con-part-7-difference-in-concept',
    label: 'Difference as concept-unity; cause/effect as one simple concept',
 'Difference in being=limit, in reflection=relative; in concept=unity. Whole–part, cause–effect etc. are one determinate/simple concept when unified.',
    clauses: [
      'annotate(Difference,{inBeing:"limit-of-other", inReflection:"relative-referring", inConcept:"unity"})',
      'assert(unifiesAsOneConcept(["whole~part","substance~accident","cause~effect"]))',
      'tag(Causality,"simple-concept")'
    ],
    predicates: [{ name: 'NormalizesDifference', args: [] }],
    relations: [
      { predicate: 'unifies', from: 'Concept', to: 'Whole~Part|Substance~Accident|Cause~Effect' }
    ]
  },
  {
    id: 'con-part-op-8-nature-and-absolute-power',
    chunkId: 'con-part-8-completeness-and-nature',
    label: 'Completeness via U–P; nature’s impotence; concept’s freedom of differences',
 'Particularity complete in U–P. Nature’s manifold species = self-externality and arbitrariness. Concept as absolute power lets differences go free (external necessity, accidentality, opinion) as abstract nothingness-side.',
    clauses: [
      'assert(complete(Particularity) == difference(Universal, Particular))',
      'tag(Nature,"self-externality; impotent-for-rigor")',
      'assert(letsGoFree(Concept, Differences, as:["self-subsistent-diversity","external-necessity","accidentality","arbitrariness","opinion"]))',
      'tag(Manifoldness,"abstract-side-of-nothingness")'
    ],
    predicates: [{ name: 'ContrastsNatureAndConcept', args: [] }],
    relations: [
      { predicate: 'exhibitsAs', from: 'Nature', to: 'Manifoldness(SelfExternal)' },
      { predicate: 'empowers', from: 'Concept', to: 'FreeDifference' }
    ]
  },
  {
    id: 'con-part-op-9-mediated-immediacy-form-content',
    chunkId: 'con-part-9-abstract-universality-form-content',
    label: 'Determinate concept as mediated immediacy; universality=form, determinateness=content',
 'Determinate existence equals itself via absolute mediation; universality clothes it as form; determinateness is its content (abstract universality).',
    clauses: [
      'tag(Determinateness,"simple-principle-and-moment-of-totality")',
      'assert(determining(Concept) -> determinateExistence)',
      'annotate(DeterminateExistence,{mode:"mediated-immediacy", equalsSelfBy:"absolute-mediation", contains:"essence/reflection"})',
      'assert(universality(Particular) == "form")',
      'assert(determinateness(Particular) == "content")',
      'tag(AbstractUniversality,"form-of-determinate-concept")'
    ],
    predicates: [{ name: 'EncodesMediatedImmediacy', args: [] }],
    relations: [
      { predicate: 'clothes', from: 'Universality(Form)', to: 'DeterminateConcept' }
    ]
  },
  {
    id: 'con-part-op-10-unconceptualized-concept',
    chunkId: 'con-part-10-determinate-universality-and-abc',
    label: 'Abstract universal = U + determinateness + immediate unity; mediation not posited',
 'Particularity is determinate universality. Abstract universal holds U, D, their immediate unity; mediation is only conditional → unconceptualized concept.',
    clauses: [
      'tag(Particularity,"determinate-universality")',
      'assert(abstractUniversal.moments == ["Universality","Determinateness","ImmediateUnity"])',
      'assert(posited(Mediation, in: AbstractUniversal) == false)',
      'tag(AbstractUniversal,"unconceptualized-concept")'
    ],
    predicates: [{ name: 'DefinesAbstractUniversal', args: [] }],
    relations: [
      { predicate: 'contains', from: 'AbstractUniversal', to: 'U|D|ImmediateUnity' }
    ]
  },
  {
    id: 'con-part-op-11-understanding-limits-and-substance',
    chunkId: 'con-part-11-understanding-and-abstraction-limits',
    label: 'Understanding’s range; absolute substance still abstract; abstraction has content',
 'Understanding’s demonstrations (by determinations) reach only finitude/necessity/negative-infinite. Absolute substance lacks concept-form; abstraction isn’t empty—naming indeterminateness makes it determinate.',
    clauses: [
      'tag(Understanding,"faculty-of-abstract-universal")',
      'annotate(Demonstration,{via:"concept-determinations", bounds:["finitude","necessity","negative-infinite"]})',
      'annotate(AbsoluteSubstance,{totalityByContent:true, lacks:"absolute-form", notConstitutedBy:"concept"})',
      'assert(abstractionNotEmpty == true)',
      'assert(indeterminatenessIsDeterminateness == true)'
    ],
    predicates: [{ name: 'LimitsOfUnderstanding', args: [] }],
    relations: [
      { predicate: 'boundedBy', from: 'Understanding', to: 'Finitude|Necessity|NegativeInfinite' }
    ]
  },
  {
    id: 'con-part-op-12-principle-of-differentiation',
    chunkId: 'con-part-12-empty-vs-principled-concepts',
    label: 'Empty determinate concepts vs principled differentiation; absolute determinateness as true content',
    clauses: [
      'assert(empty(DeterminateConcept) == (lacks("totality") || lacks("principle-of-differentiation")))',
      'annotate(Examples,{concrete:["humankind","state","animal"], stillEmptyIf:"no-principle"})',
      'tag(AbsoluteDeterminateness,"true-content-in-concept-element")'
    ],
    predicates: [{ name: 'RequiresPrincipledDifferentiation', args: [] }],
    relations: [
      { predicate: 'provides', from: 'PrincipleOfDifferentiation', to: 'Development|Realization' }
    ]
  }
]

/* accessors */
export function getChunk(oneBasedIndex: number): Chunk | null {
  return CANONICAL_CHUNKS[oneBasedIndex - 1] ?? null
}
export function getLogicalOpsForChunk(oneBasedIndex: number): LogicalOperation[] {
  const chunk = getChunk(oneBasedIndex)
  if (!chunk) return []
  return LOGICAL_OPERATIONS.filter(op => op.chunkId === chunk.id)
}
