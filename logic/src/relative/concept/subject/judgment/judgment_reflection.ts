import type { Chunk, LogicalOperation } from '../syllogism/index';

/**
 * JUDGMENT OF REFLECTION — Complete Structure
 * 
 * NOTE: This judgment arises from the judgment of existence, where the subject
 * is a singular as such, and the universal is posited as a universal that has
 * collected itself into unity through connection of different terms, or as the
 * coalescing of manifold properties and concrete existences.
 * 
 * Structure:
 * Introduction: Judgment of Reflection overview
 * a. The singular judgment
 * b. The particular judgment
 * c. The universal judgment (with multiple parts)
 * 
 * Transition: Judgment of Reflection passes over into Judgment of Necessity
 */

// ============================================================================
// INTRODUCTION: JUDGMENT OF REFLECTION — OVERVIEW
// ============================================================================

export const CANONICAL_CHUNKS: Chunk[] = [
  {
    id: 'j-ref-intro-1-arisen-judgment',
    title: 'Judgment of reflection — arisen form',
    text: `In the judgment that has now arisen, the subject is a singular as such; and similarly, the universal is no longer an abstract universality, or a singular property, but is posited as a universal that has collected itself together into a unity through the connection of different terms, or, regarded from the standpoint of the content of diverse determinations in general, as the coalescing of manifold properties and concrete existences.`,
  },
  {
    id: 'j-ref-intro-2-determinate-content',
    title: 'Determinate content — content as such',
    text: `It is only in the judgment of reflection that we first have a determinate content strictly speaking, that is, a content as such; for the content is the form determination reflected into identity as distinct from the form in so far as this is a distinct determinateness as it still is as judgment. In the judgment of existence, the content is merely an immediate, or abstract, indeterminate content.`,
  },
  {
    id: 'j-ref-intro-3-examples',
    title: 'Examples of judgments of reflection',
    text: `These may therefore serve as examples of judgments of reflection: the human being is mortal, things are perishable, this thing is useful, harmful; hardness, elasticity of bodies, happiness, etc., are predicates of this particular kind. They express an essentiality which is however a relational determination, or a comprehensive universality.`,
  },
  {
    id: 'j-ref-intro-4-universality-distinct-from-concept',
    title: 'Universality distinct from concept universality',
    text: `This universality, which will further determine itself in the movement of the judgment of reflection, is still distinct from the universality of the concept as such; although it is no longer the abstract universality of the qualitative judgment, it still has a connection to the immediate from which it proceeds and has the latter at the basis of its negativity.`,
  },
  {
    id: 'j-ref-intro-5-relational-determinations',
    title: 'Relational determinations across concrete existence',
    text: `The concept determines immediate existence, in the first instance, to relational determinations that extend across the diverse multiplicity of concrete existence, so that the true universal is indeed the inner essence of that multiplicity, but is such in the sphere of appearance, and this relative nature or even its mark is not as yet the element of the multiplicity that exists in and for itself.`,
  },
  {
    id: 'j-ref-intro-6-quantity-vs-quality',
    title: 'Not merely quantity — external determination of mediation',
    text: `It may seem fitting to define the judgment of reflection as a judgment of quantity, just as the judgment of existence was defined also as qualitative judgment. But just as the immediacy in the latter was not just there, but was an immediacy which is also essentially mediated and abstract, so, here also, that same immediacy which is now sublated is not just sublated quality, and therefore not merely quantity; on the contrary, just as quality is the most external immediacy, so is quantity, in the same way, the most external determination belonging to mediation.`,
  },
  {
    id: 'j-ref-intro-7-movement-in-subject',
    title: 'Movement of determination in the subject',
    text: `Also to be noted concerning the determination as it appears in the movement of the judgment of reflection is that, in the judgment of immediate existence, the movement of the determination showed itself in the predicate, for this kind of judgment was in the determination of immediacy and its subject, therefore, appeared as the underlying basis. For a similar reason, in the judgment of reflection the onward movement of determination runs its course in the subject, for this judgment has the reflected in-itselfness for its determination.`,
  },
  {
    id: 'j-ref-intro-8-predicate-as-basis',
    title: 'Predicate as basis — subject measured against it',
    text: `Hence the essential is here the universal or the predicate, and it is the latter, therefore, that constitutes the basis against which the subject is to be measured and determined accordingly. Yet the predicate also receives a further determination through the further development of the form of the subject, but it receives it indirectly, whereas the progression of the subject manifests itself, for the reason just given, as a direct advance in determination.`,
  },
  {
    id: 'j-ref-intro-9-objective-signification',
    title: 'Objective signification — subsumption vs inherence',
    text: `As regards the objective signification of the judgment, the singular enters into existence by virtue of its universality, but it does so in an essential determination which is relational, in an essentiality that maintains itself across the manifold of appearance; the subject is supposed to be that which is determined in and for itself; this is the determinateness which it has in its predicate. The singular, for its part, is reflected into this predicate which is its universal essence; to this extent, the subject is a concrete existence and a phenomenal something. In this judgment, the predicate no longer inheres in the subject, for it is rather the implicit being under which the singular subject is subsumed as an accidental. If the judgments of existence can also be defined as judgments of inherence, then the judgments of reflection are by contrast judgments of subsumption.`,
  },
];

// ============================================================================
// a. THE SINGULAR JUDGMENT
// ============================================================================

CANONICAL_CHUNKS.push(
  {
    id: 'j-ref-1-singular-immediate',
    title: 'Singular judgment — immediate reflective form',
    text: `Now the immediate judgment of reflection is again, "the singular is universal," but with the subject and predicate in the signification just explained. More accurately, therefore, it can also be expressed thus, "this is an essential universal."`,
  },
  {
    id: 'j-ref-2-this-not-essential',
    title: '"This" is not an essential universal',
    text: `But a "this" is not an essential universal. That positive judgment (positive according to form must as judgment be taken negatively. But inasmuch as the judgment of reflection is not merely something positive, the negation does not directly affect the predicate) a predicate which does not inhere in the subject but is rather its implicit being. On the contrary, it is the subject that is alterable and needs determination.`,
  },
  {
    id: 'j-ref-3-negative-as-not-this',
    title: 'Negative judgment: "not a this" is universal of reflection',
    text: `The negative judgment is therefore to be understood as saying: "'not a this' is a universal of reflection"; such an in-itself has a more universal concrete existence than it would have in a "this." Accordingly, the singular judgment has its proximate truth in the particular judgment.`,
  },
);

// ============================================================================
// b. THE PARTICULAR JUDGMENT
// ============================================================================

CANONICAL_CHUNKS.push(
  {
    id: 'j-ref-4-particular-non-singularity',
    title: 'Particular judgment — non-singularity posited',
    text: `The non-singularity of the subject that must be posited in the first judgment of reflection instead of the subject's singularity is particularity. But particularity is determined in the judgment of reflection as essential singularity; particularity cannot be, therefore, a simple, abstract determination in which the singular would be sublated and the concrete existent dissolved, but is rather only an extension of this singular in external reflection. Thus the subject is: "these ones," or "a particular number of singulars."`,
  },
  {
    id: 'j-ref-5-particular-dual-polarity',
    title: 'Particular judgment — positive and negative',
    text: `The judgment, "some singulars are a universal of reflection," appears at first to be a positive judgment, but it is just as well also negative; for "some" contains universality and may, accordingly, be regarded as comprehensive; but since it is particularity, it is equally disproportionate with respect to universality. The negative determination which the subject has obtained through the transition of the singular judgment also is, as we have shown above, the determination of the connection, the copula.`,
  },
  {
    id: 'j-ref-6-particular-contains-both',
    title: 'Particular immediately contains both positive and negative',
    text: `Implicated in the judgment, "some humans are happy," is the immediate consequence: "some humans are not happy." When some things are useful, then, precisely for that reason, there also are some that are not useful. The positive and the negative judgment no longer fall outside one another, but the particular immediately contains both at the same time, precisely because it is a judgment of reflection. But the particular judgment is therefore indeterminate.`,
  },
  {
    id: 'j-ref-7-subject-contains-universal-content',
    title: 'Subject contains universal content — "humans," "animals"',
    text: `If, in the example of such a judgment, we consider further the subject, "some humans," "some animals," etc., we find that it contains, besides the particular form determination of "some," also the content determination of "humans," etc. By the subject of the singular judgment one could mean, "this human," a singularity that properly pertains to external pointing; it would best be expressed, therefore, by something like "Gaius." But the subject of the particular judgment can no longer be "some Gaiuses," for Gaius is supposed to be a singular as singular.`,
  },
  {
    id: 'j-ref-8-universal-nature-anticipated',
    title: 'Universal nature or species anticipated',
    text: `To the "some," therefore, there is added a more universal content, say "humans," "animals," etc. This is not a mere empirical content, but one which is determined by the form of the judgment; it is universal, that is, because "some" contains universality, and the latter must at the same time be separated from the singulars which the reflected singularity has as a basis. More precisely, this universality is also the universal nature or species "human," "animal" the universality which is the result of the judgment of reflection, but anticipated; just as the positive judgment, since it has the singular for subject, also anticipates the determination which is the result of the judgment of existence.`,
  },
  {
    id: 'j-ref-9-subject-as-totality',
    title: 'Subject posited as totality of concept determinations',
    text: `Thus the subject that contains the singulars, their connection to particularity, and the universal nature, is already posited as the totality of the determinations of the concept. But, to be precise, this consideration is an external one. What is at first already posited in the subject by virtue of its form, in reciprocal connection, is the extension of the "this" to particularity; but this generalization is not commensurate to the "this"; the latter is perfectly determinate, but "some" is indeterminate.`,
  },
  {
    id: 'j-ref-10-extension-to-totality',
    title: 'Extension ought to be totality — transition to universal',
    text: `The extension ought to be appropriate to the "this" and therefore, in conformity with it, it ought to be completely determined; such an extension is totality, or, in the first instance, universality in general. This universality has the "this" for its basis, for the singular is here the singular reflected into itself; its further determinations run their course, therefore, outside it, and just as for this reason particularity determined itself as a "some," so the universality which the subject has attained is an "allness," and thus the particular judgment has passed over into the universal.`,
  },
);

// ============================================================================
// c. THE UNIVERSAL JUDGMENT
// ============================================================================

CANONICAL_CHUNKS.push(
  {
    id: 'j-ref-11-universal-external-allness',
    title: 'Universal judgment — external universality (allness)',
    text: `The universality of the subject of the universal judgment is the external universality of reflection, "allness"; the "all" is the all of all the singulars in which the singular remains unchanged. This universality is therefore only a commonality of self-subsisting singulars, an association of such singulars as comes about only by way of comparison.`,
  },
  {
    id: 'j-ref-12-subjective-representation',
    title: 'Subjective representation of universality',
    text: `This is the association that first comes to mind at a subjective level of representation when there is talk of universality. The most obvious reason given for viewing a determination as universal is because it fits many.`,
  },
  {
    id: 'j-ref-13-analysis-example',
    title: 'Analysis example — polynomial vs binomial',
    text: `Also in analysis is this conception of universality the one most prevalent, as when, for instance, the development of a function in a polynomial is taken to have greater universal value than its development in a binomial, because the polynomial displays more single terms than the binomial. The demand that the function should be resolved in its full universality would require, strictly speaking, a pantonomial, the exhausted infinity.`,
  },
  {
    id: 'j-ref-14-method-rule-as-true-universal',
    title: 'Method or rule as the true universal',
    text: `But here is where the limitation of that demand becomes apparent, and where the display of the infinite number of terms must rest satisfied with the ought it commands, and therefore also with a polynomial. But in fact the binomial is already the pantonomial in those cases where the method or the rule concerns only the dependence of one member on another, and the dependence of several terms on those that precede them does not particularize itself but remains one and the same underlying function. It is the method or the rule which is to be regarded as the true universal; in the progress of the development or in the development of a polynomial, the rule is only repeated, so that it gains nothing in universality through the increased number of terms.`,
  },
  {
    id: 'j-ref-15-bad-infinity-deception',
    title: 'Bad infinity and its deception',
    text: `We have already spoken earlier of the bad infinity and its deception; the universality of the concept is the achieved beyond, whereas that bad infinity remains afflicted with a beyond which is unattainable but remains a mere progression to infinity. If it is allness that universality brings to mind, a universality that ought to be exhausted in singulars as singulars, then there has been a relapse into that bad infinity; or else it is mere plurality which is taken for allness. But plurality, however great it might be, remains inescapably only particularity: it is not allness.`,
  },
  {
    id: 'j-ref-16-obscure-intimation',
    title: 'Obscure intimation of concept universality',
    text: `Yet there is in all this an obscure intimation of the universality of the concept as it exists in and for itself; it is the concept that violently strives to reach beyond the stubborn singularity to which pictorial representation clings and beyond the externality of its reflection, passing off allness as totality or rather as the category of the in-and-for-itself.`,
  },
  {
    id: 'j-ref-17-empirical-allness',
    title: 'Empirical allness — external reflection',
    text: `This is apparent in other ways as well in the allness which is above all empirical universality. Inasmuch as the singular is presupposed as something immediate and is therefore pre-given and externally picked, the reflection which collects it into an allness is equally external to it. But because the singular, as a "this," is absolutely indifferent to such a reflection, the universality and the collected singularity cannot combine to form a unity.`,
  },
  {
    id: 'j-ref-18-empirical-allness-task',
    title: 'Empirical allness remains a task — ought',
    text: `The empirical allness thus remains a task; it is an ought which, as such, cannot be represented in the form of being. Now an empirically universal proposition, for nevertheless such are advanced, rests on the tacit agreement that, if no instance of the contrary can be adduced, a plurality of cases ought to count for an allness; or that a subjective allness, namely the known cases, may be taken for an objective allness.`,
  },
  {
    id: 'j-ref-19-subject-contains-presupposed',
    title: 'Subject contains achieved universality as presupposed',
    text: `Now a closer examination of the universal judgment before us shows that the subject, as we have just noted, contains the achieved universality as presupposed; it even contains it as posited in it. "All humans" expresses, first, the species "human"; second, this species in its singularization, but in such a way that the singulars are at the same time expanded to the universality of the species; conversely, through this conjunction with singularity, the universality is just as perfectly determined as singularity, and the posited universality has thereby become equal to what was presupposed.`,
  },
  {
    id: 'j-ref-20-singularity-expanded-allness',
    title: 'Singularity expanded to allness — identical self-reference',
    text: `But, strictly speaking, we should not anticipate the presupposed but should rather consider the result for itself in the form determination. The singularity, inasmuch as it is expanded to allness, is posited as negativity, and this is identical self-reference. It has not remained, therefore, that first singularity (of Gaius, for instance) but is a determination identical with universality, or the absolute determinateness of the universal.`,
  },
  {
    id: 'j-ref-21-true-presupposition',
    title: 'True presupposition — in-itself now posited',
    text: `That first singularity of the singular judgment was not the immediate singularity of the positive judgment, but came about through the dialectical movement of the judgment of existence in general; it was already determined to be the negative identity of the determinations of that judgment. This is the true presupposition in the judgment of reflection; as contrasted to the positing that runs its course in that judgment, that first determinateness of singularity was the latter's in-itself; consequently, what singularity is in itself, through the movement of the judgment of reflection is now posited, posited, that is, as the identical self-reference of the determinate.`,
  },
  {
    id: 'j-ref-22-reflection-makes-explicit',
    title: 'Reflection makes explicit what was implicit — objective universality',
    text: `Therefore the reflection that expanded the singularity to allness is not external to it; on the contrary, it only makes explicit what was before implicit. Hence the result is in truth the objective universality. The subject has thus shed the form determination of the judgment of reflection that made its way from the "this" to the "allness" through the "some." Instead of "all humans," we now have to say "the human being."`,
  },
  {
    id: 'j-ref-23-genus-concrete-universality',
    title: 'Genus — concrete universality (negative self-identity)',
    text: `The universality that has thereby arisen is the genus, or the universality which is concrete in its universality. The genus does not inhere in the subject; it is not one property of it or a property at all; it contains all singular determinacies dissolved into its substantial purity. Because it is thus posited as this negative self-identity, it is for that reason essentially subject, but one that is no longer subsumed under its predicate.`,
  },
  {
    id: 'j-ref-24-judgment-nature-altered',
    title: 'Nature of judgment altogether altered',
    text: `Consequently the nature of the judgment of reflection is now altogether altered. This judgment was essentially a judgment of subsumption. The predicate was determined, in contrast to its subject, as the implicit universal; according to its content, it could be taken as an essentially relational determination or also as a mark, a determination which makes the subject essentially only an appearance.`,
  },
  {
    id: 'j-ref-25-reversal-subsumption',
    title: 'Reversal of subsumption — predicate becomes particular',
    text: `But when determined to objective universality, the subject ceases to be subsumed under such a relational determination or the collecting grasp of reflection; with respect to this objective universality, a predicate of this sort is rather a particular. The relation of subject and predicate has thus reversed itself, and to this extent the judgment has at this point sublated itself.`,
  },
  {
    id: 'j-ref-26-copula-sublation',
    title: 'Sublation coincides with copula determination',
    text: `This sublation of the judgment coincides with what the determination of the copula becomes, as we still have to consider; the sublation of the determinations of judgment and their transition into the copula are one and same. For inasmuch as the subject has raised itself to universality, it has become in this determination equal to the predicate which, as the reflected universality, also contains particularity within itself; subject and predicate are therefore identical, that is, in the copula they have come to coincide.`,
  },
  {
    id: 'j-ref-27-genus-nature-identity',
    title: 'Identity is genus or nature in and for itself',
    text: `This identity is the genus or the nature of a thing in and for itself. Inasmuch as this identity, therefore, again divides, it is the inner nature by virtue of which a subject and predicate are connected to each other. This is a connection of necessity wherein the two terms of the judgment are only unessential distinctions.`,
  },
  {
    id: 'j-ref-28-immediate-consequence',
    title: 'Immediate consequence — belongs to genus by nature',
    text: `That what belongs to all the singulars of a genus belongs to the genus by nature, is an immediate consequence. It expresses what we have just seen; that the subject, e.g. "all humans," sheds its form determination and "the human being" is what it should say instead. This combination, implicit and explicit, constitutes the basis of a new judgment, the judgment of necessity.`,
  },
);

export const LOGICAL_OPERATIONS: LogicalOperation[] = [
  // ============================================================================
  // INTRODUCTION OPERATIONS
  // ============================================================================
  {
    id: 'j-ref-op-intro-1-arisen-judgment',
    chunkId: 'j-ref-intro-1-arisen-judgment',
    label: 'Declare judgment of reflection as arisen form',
    clauses: [
      'subject = singularAsSuch',
      'universal.not = abstractUniversality',
      'universal.not = singularProperty',
      'universal.positedAs = collectedIntoUnity',
      'universal = coalescingOf(manifoldProperties, concreteExistences)',
    ],
    predicates: [{ name: 'IsReflectionJudgment', args: [] }],
    relations: [
      { predicate: 'posits', from: 'universal', to: 'collectedUnity' },
    ],
  },
  {
    id: 'j-ref-op-intro-2-determinate-content',
    chunkId: 'j-ref-intro-2-determinate-content',
    label: 'Declare determinate content as content as such',
    clauses: [
      'reflectionJudgment.has = determinateContent',
      'content = formDeterminationReflectedIntoIdentity',
      'existenceJudgment.content = immediateAbstractIndeterminate',
    ],
    predicates: [{ name: 'HasDeterminateContent', args: ['reflectionJudgment'] }],
    relations: [
      { predicate: 'distinguishes', from: 'reflectionJudgment', to: 'existenceJudgment' },
    ],
  },
  {
    id: 'j-ref-op-intro-3-examples',
    chunkId: 'j-ref-intro-3-examples',
    label: 'Encode examples of reflection judgments',
    clauses: [
      'examples = {humanIsMortal, thingsArePerishable, thingIsUsefulHarmful}',
      'predicates = {hardness, elasticity, happiness}',
      'predicates.express = essentialityAsRelationalDetermination',
    ],
    predicates: [{ name: 'IllustratesReflectionJudgment', args: ['examples'] }],
    relations: [
      { predicate: 'expresses', from: 'predicates', to: 'essentiality' },
    ],
  },
  {
    id: 'j-ref-op-intro-4-universality-distinct',
    chunkId: 'j-ref-intro-4-universality-distinct-from-concept',
    label: 'Universality distinct from concept universality',
    clauses: [
      'reflectionUniversality.distinctFrom = conceptUniversality',
      'reflectionUniversality.not = abstractQualitativeUniversality',
      'reflectionUniversality.hasConnection = immediate',
      'reflectionUniversality.hasBasis = negativity',
    ],
    predicates: [{ name: 'IsDistinctFromConcept', args: ['reflectionUniversality'] }],
    relations: [
      { predicate: 'connects', from: 'reflectionUniversality', to: 'immediate' },
    ],
  },
  {
    id: 'j-ref-op-intro-5-relational-determinations',
    chunkId: 'j-ref-intro-5-relational-determinations',
    label: 'Relational determinations across concrete existence',
    clauses: [
      'concept.determines = immediateExistenceToRelationalDeterminations',
      'relationalDeterminations.extend = diverseMultiplicityOfConcreteExistence',
      'trueUniversal = innerEssenceOfMultiplicity',
      'trueUniversal.in = sphereOfAppearance',
    ],
    predicates: [{ name: 'ExtendsAcrossMultiplicity', args: ['relationalDeterminations'] }],
    relations: [
      { predicate: 'extends', from: 'relationalDeterminations', to: 'concreteExistence' },
    ],
  },
  {
    id: 'j-ref-op-intro-6-quantity-vs-quality',
    chunkId: 'j-ref-intro-6-quantity-vs-quality',
    label: 'Not merely quantity — external determination of mediation',
    clauses: [
      'reflectionJudgment.not = merelyQuantity',
      'quantity = mostExternalDeterminationOfMediation',
      'quality = mostExternalImmediacy',
    ],
    predicates: [{ name: 'IsNotMerelyQuantity', args: ['reflectionJudgment'] }],
    relations: [
      { predicate: 'contrasts', from: 'quality', to: 'quantity' },
    ],
  },
  {
    id: 'j-ref-op-intro-7-movement-subject',
    chunkId: 'j-ref-intro-7-movement-in-subject',
    label: 'Movement of determination in the subject',
    clauses: [
      'existenceJudgment.movement = inPredicate',
      'reflectionJudgment.movement = inSubject',
      'reflectionJudgment.has = reflectedInItselfness',
    ],
    predicates: [{ name: 'MovementInSubject', args: ['reflectionJudgment'] }],
    relations: [
      { predicate: 'runs', from: 'determination', to: 'subject' },
    ],
  },
  {
    id: 'j-ref-op-intro-8-predicate-basis',
    chunkId: 'j-ref-intro-8-predicate-as-basis',
    label: 'Predicate as basis — subject measured against it',
    clauses: [
      'essential = universalOrPredicate',
      'predicate.constitutes = basis',
      'subject.measuredAgainst = predicate',
      'predicate.receivesDetermination = indirectly',
      'subject.progression = directAdvance',
    ],
    predicates: [{ name: 'PredicateAsBasis', args: ['predicate'] }],
    relations: [
      { predicate: 'measures', from: 'predicate', to: 'subject' },
    ],
  },
  {
    id: 'j-ref-op-intro-9-subsumption',
    chunkId: 'j-ref-intro-9-objective-signification',
    label: 'Judgments of subsumption vs inherence',
    clauses: [
      'singular.entersExistence = byVirtueOfUniversality',
      'essentialDetermination = relational',
      'predicate.notInheres = inSubject',
      'predicate = implicitBeing',
      'subject.subsumedUnder = predicate',
      'existenceJudgments = judgmentsOfInherence',
      'reflectionJudgments = judgmentsOfSubsumption',
    ],
    predicates: [{ name: 'IsSubsumptionJudgment', args: ['reflectionJudgment'] }],
    relations: [
      { predicate: 'subsumes', from: 'predicate', to: 'subject' },
    ],
  },
  // ============================================================================
  // SINGULAR JUDGMENT OPERATIONS
  // ============================================================================
  {
    id: 'j-ref-op-1-singular-immediate',
    chunkId: 'j-ref-1-singular-immediate',
    label: 'Declare singular judgment in reflection',
    clauses: [
      'judgment.form = "singular is universal"',
      'judgment.expressedAs = "this is essential universal"',
      'subject.predicate = reflectiveSignification',
    ],
    predicates: [{ name: 'IsSingularReflection', args: [] }],
    relations: [
      { predicate: 'signifies', from: 'predicate', to: 'implicitUniversal' },
    ],
  },
  {
    id: 'j-ref-op-2-this-not-essential',
    chunkId: 'j-ref-2-this-not-essential',
    label: '"This" is not essential universal — negation targets subject',
    clauses: [
      '"this".not = essentialUniversal',
      'positiveJudgment.mustBeTaken = negatively',
      'negation.notDirectlyAffects = predicate',
      'predicate.notInheres = inSubject',
      'predicate = implicitBeing',
      'subject.isAlterable = true',
      'subject.needsDetermination = true',
    ],
    predicates: [{ name: 'NegationTargetsSubject', args: [] }],
    relations: [
      { predicate: 'requires', from: 'subject', to: 'determinationProcess' },
    ],
  },
  {
    id: 'j-ref-op-3-negative-not-this',
    chunkId: 'j-ref-3-negative-as-not-this',
    label: 'Negative judgment: "not a this" is universal of reflection',
    clauses: [
      'negativeJudgment = "not a this is universal of reflection"',
      'inItself.has = moreUniversalConcreteExistence',
      'singularJudgment.proximateTruth = particularJudgment',
    ],
    predicates: [{ name: 'LinksToParticularProximateTruth', args: [] }],
    relations: [
      { predicate: 'proposes', from: 'singularReflection', to: 'particularJudgment' },
    ],
  },
  // ============================================================================
  // PARTICULAR JUDGMENT OPERATIONS
  // ============================================================================
  {
    id: 'j-ref-op-4-particular-non-singularity',
    chunkId: 'j-ref-4-particular-non-singularity',
    label: 'Particular judgment — non-singularity posited',
    clauses: [
      'particularity = nonSingularity',
      'particularity.determinedAs = essentialSingularity',
      'particularity.not = simpleAbstractDetermination',
      'particularity = extensionOfSingularInExternalReflection',
      'subject = "these ones" or "particularNumberOfSingulars"',
    ],
    predicates: [{ name: 'IsParticularJudgment', args: [] }],
    relations: [
      { predicate: 'contains', from: 'subject', to: 'singularBasis' },
    ],
  },
  {
    id: 'j-ref-op-5-dual-polarity',
    chunkId: 'j-ref-5-particular-dual-polarity',
    label: 'Particular judgment — positive and negative',
    clauses: [
      'particularJudgment.appearsAs = positive',
      'particularJudgment.also = negative',
      '"some".contains = universality',
      '"some".mayBeRegardedAs = comprehensive',
      '"some".is = particularity',
      '"some".disproportionate = withRespectToUniversality',
    ],
    predicates: [{ name: 'ParticularIsIndeterminate', args: [] }],
    relations: [
      { predicate: 'implies', from: 'particular', to: 'dualPolarity' },
    ],
  },
  {
    id: 'j-ref-op-6-contains-both',
    chunkId: 'j-ref-6-particular-contains-both',
    label: 'Particular immediately contains both positive and negative',
    clauses: [
      'example: "some humans are happy" => "some humans are not happy"',
      'example: "some things are useful" => "some things are not useful"',
      'positiveNegative.noLongerFallOutside = oneAnother',
      'particular.immediatelyContains = bothAtSameTime',
      'particularJudgment.indeterminate = true',
    ],
    predicates: [{ name: 'ContainsDualPolarity', args: ['particularJudgment'] }],
    relations: [
      { predicate: 'contains', from: 'particular', to: 'positiveAndNegative' },
    ],
  },
  {
    id: 'j-ref-op-7-subject-universal-content',
    chunkId: 'j-ref-7-subject-contains-universal-content',
    label: 'Subject contains universal content — "humans," "animals"',
    clauses: [
      'subject.contains = {particularForm("some"), contentDetermination("humans")}',
      'singularJudgment.subject = "this human" or "Gaius"',
      'particularJudgment.subject.not = "some Gaiuses"',
      'toSome.added = moreUniversalContent',
    ],
    predicates: [{ name: 'ContainsUniversalContent', args: ['subject'] }],
    relations: [
      { predicate: 'contains', from: 'subject', to: 'universalContent' },
    ],
  },
  {
    id: 'j-ref-op-8-universal-nature-anticipated',
    chunkId: 'j-ref-8-universal-nature-anticipated',
    label: 'Universal nature or species anticipated',
    clauses: [
      'universalContent.not = mereEmpiricalContent',
      'universalContent.determinedBy = formOfJudgment',
      'universality = universalNatureOrSpecies',
      'universality = resultOfReflectionJudgment (anticipated)',
    ],
    predicates: [{ name: 'AnticipatesUniversalNature', args: ['subject'] }],
    relations: [
      { predicate: 'anticipates', from: 'subject', to: 'universalNature' },
    ],
  },
  {
    id: 'j-ref-op-9-subject-totality',
    chunkId: 'j-ref-9-subject-as-totality',
    label: 'Subject posited as totality of concept determinations',
    clauses: [
      'subject.contains = {singulars, connectionToParticularity, universalNature}',
      'subject.positedAs = totalityOfConceptDeterminations',
      'extensionOfThis = toParticularity',
      'generalization.notCommensurate = toThis',
      '"this".perfectlyDeterminate = true',
      '"some".indeterminate = true',
    ],
    predicates: [{ name: 'IsTotalityOfDeterminations', args: ['subject'] }],
    relations: [
      { predicate: 'posits', from: 'subject', to: 'totality' },
    ],
  },
  {
    id: 'j-ref-op-10-extension-totality',
    chunkId: 'j-ref-10-extension-to-totality',
    label: 'Extension ought to be totality — transition to universal',
    clauses: [
      'extension.oughtToBe = appropriateToThis',
      'extension.oughtToBe = completelyDetermined',
      'suchExtension = totality',
      'suchExtension = universalityInGeneral',
      'universality.hasBasis = "this"',
      'universality.attained = "allness"',
      'particularJudgment.passedOver = intoUniversal',
    ],
    predicates: [{ name: 'TransitionsToUniversal', args: ['particularJudgment'] }],
    relations: [
      { predicate: 'transitions', from: 'particularJudgment', to: 'universalJudgment' },
    ],
  },
  // ============================================================================
  // UNIVERSAL JUDGMENT OPERATIONS
  // ============================================================================
  {
    id: 'j-ref-op-11-universal-external-allness',
    chunkId: 'j-ref-11-universal-external-allness',
    label: 'Universal judgment — external universality (allness)',
    clauses: [
      'universality = externalUniversalityOfReflection',
      'universality = "allness"',
      '"all" = allOfAllSingulars',
      'singular.remains = unchanged',
      'universality = commonalityOfSelfSubsistingSingulars',
      'universality = associationByComparison',
    ],
    predicates: [{ name: 'IsExternalUniversality', args: ['universality'] }],
    relations: [
      { predicate: 'characterizes', from: 'universal', to: 'allness' },
    ],
  },
  {
    id: 'j-ref-op-12-subjective-representation',
    chunkId: 'j-ref-12-subjective-representation',
    label: 'Subjective representation of universality',
    clauses: [
      'association.comesToMind = atSubjectiveLevel',
      'reasonForUniversal = "fits many"',
    ],
    predicates: [{ name: 'IsSubjectiveRepresentation', args: ['universality'] }],
    relations: [
      { predicate: 'represents', from: 'association', to: 'universality' },
    ],
  },
  {
    id: 'j-ref-op-13-analysis-example',
    chunkId: 'j-ref-13-analysis-example',
    label: 'Analysis example — polynomial vs binomial',
    clauses: [
      'polynomial.hasGreaterUniversalValue = thanBinomial',
      'reason = moreSingleTerms',
      'fullUniversality.requires = pantonomial (exhausted infinity)',
    ],
    predicates: [{ name: 'IllustratesUniversalityConception', args: ['analysisExample'] }],
    relations: [
      { predicate: 'illustrates', from: 'analysisExample', to: 'universalityConception' },
    ],
  },
  {
    id: 'j-ref-op-14-method-rule-true-universal',
    chunkId: 'j-ref-14-method-rule-as-true-universal',
    label: 'Method or rule as the true universal',
    clauses: [
      'binomial.alreadyPantonomial = whenMethodConcernsDependence',
      'methodOrRule = trueUniversal',
      'polynomial.rule = onlyRepeated',
      'rule.gainsNothing = inUniversalityThroughMoreTerms',
    ],
    predicates: [{ name: 'PromotesMethodAsUniversal', args: [] }],
    relations: [
      { predicate: 'elevates', from: 'method', to: 'universalStatus' },
    ],
  },
  {
    id: 'j-ref-op-15-bad-infinity',
    chunkId: 'j-ref-15-bad-infinity-deception',
    label: 'Bad infinity and its deception',
    clauses: [
      'conceptUniversality = achievedBeyond',
      'badInfinity = unattainableBeyond (mere progression)',
      'if allness.exhaustedInSingulars = then badInfinity',
      'plurality.not = allness',
      'plurality.remains = particularity',
    ],
    predicates: [{ name: 'FlagsBadInfinity', args: [] }],
    relations: [
      { predicate: 'recommends', from: 'detector', to: 'conceptualReflection' },
    ],
  },
  {
    id: 'j-ref-op-16-obscure-intimation',
    chunkId: 'j-ref-16-obscure-intimation',
    label: 'Obscure intimation of concept universality',
    clauses: [
      'obscureIntimation = conceptUniversalityInAndForItself',
      'concept.strives = beyondStubbornSingularity',
      'concept.strives = beyondExternalityOfReflection',
      'allness.passedOffAs = totalityOrInAndForItself',
    ],
    predicates: [{ name: 'IntimatesConceptUniversality', args: [] }],
    relations: [
      { predicate: 'strives', from: 'concept', to: 'beyondSingularity' },
    ],
  },
  {
    id: 'j-ref-op-17-empirical-allness',
    chunkId: 'j-ref-17-empirical-allness',
    label: 'Empirical allness — external reflection',
    clauses: [
      'singular.presupposedAs = immediate',
      'singular = preGivenExternallyPicked',
      'reflection.collectsIntoAllness = externally',
      'singular.indifferentTo = reflection',
      'universality.cannotCombine = withCollectedSingularity',
    ],
    predicates: [{ name: 'IsEmpiricalAllness', args: ['allness'] }],
    relations: [
      { predicate: 'cannotCombine', from: 'universality', to: 'collectedSingularity' },
    ],
  },
  {
    id: 'j-ref-op-18-empirical-allness-task',
    chunkId: 'j-ref-18-empirical-allness-task',
    label: 'Empirical allness remains a task — ought',
    clauses: [
      'empiricalAllness.remains = task',
      'empiricalAllness = ought',
      'ought.cannotBeRepresented = inFormOfBeing',
      'empiricalUniversal.restsOn = tacitAgreement',
      'agreement = ifNoCounterexample then pluralityCountsForAllness',
      'agreement = subjectiveAllnessTakenForObjective',
    ],
    predicates: [{ name: 'IsTaskOught', args: ['empiricalAllness'] }],
    relations: [
      { predicate: 'restsOn', from: 'empiricalUniversal', to: 'tacitAgreement' },
    ],
  },
  {
    id: 'j-ref-op-19-subject-presupposed',
    chunkId: 'j-ref-19-subject-contains-presupposed',
    label: 'Subject contains achieved universality as presupposed',
    clauses: [
      'subject.contains = achievedUniversality (presupposed)',
      '"all humans".expresses = {speciesHuman, speciesInSingularization}',
      'singulars.expandedTo = universalityOfSpecies',
      'universality.determinedAs = singularity',
      'positedUniversality.equalTo = presupposed',
    ],
    predicates: [{ name: 'MarksPresupposedUniversality', args: [] }],
    relations: [
      { predicate: 'marks', from: 'analyzer', to: 'implicitUniversal' },
    ],
  },
  {
    id: 'j-ref-op-20-singularity-expanded',
    chunkId: 'j-ref-20-singularity-expanded-allness',
    label: 'Singularity expanded to allness — identical self-reference',
    clauses: [
      'singularity.expandedToAllness = positedAsNegativity',
      'negativity = identicalSelfReference',
      'singularity.notRemained = firstSingularity',
      'singularity = determinationIdenticalWithUniversality',
      'singularity = absoluteDeterminatenessOfUniversal',
    ],
    predicates: [{ name: 'IsIdenticalSelfReference', args: ['singularity'] }],
    relations: [
      { predicate: 'becomes', from: 'singularity', to: 'identicalWithUniversality' },
    ],
  },
  {
    id: 'j-ref-op-21-true-presupposition',
    chunkId: 'j-ref-21-true-presupposition',
    label: 'True presupposition — in-itself now posited',
    clauses: [
      'firstSingularity.not = immediateSingularityOfPositiveJudgment',
      'firstSingularity.cameAbout = throughDialecticalMovement',
      'firstSingularity.determinedAs = negativeIdentity',
      'truePresupposition = inItself',
      'inItself.nowPosited = asIdenticalSelfReference',
    ],
    predicates: [{ name: 'IsTruePresupposition', args: ['singularity'] }],
    relations: [
      { predicate: 'posits', from: 'reflectionMovement', to: 'inItself' },
    ],
  },
  {
    id: 'j-ref-op-22-reflection-explicit',
    chunkId: 'j-ref-22-reflection-makes-explicit',
    label: 'Reflection makes explicit what was implicit — objective universality',
    clauses: [
      'reflection.expandingSingularityToAllness.not = external',
      'reflection.makesExplicit = whatWasImplicit',
      'result = objectiveUniversality',
      'subject.shedsForm = "all humans"',
      'subject.becomes = "the human being"',
    ],
    predicates: [{ name: 'PromotesObjectiveUniversality', args: [] }],
    relations: [
      { predicate: 'transforms', from: 'reflectionProcess', to: 'subjectReclassification' },
    ],
  },
  {
    id: 'j-ref-op-23-genus-concrete',
    chunkId: 'j-ref-23-genus-concrete-universality',
    label: 'Genus — concrete universality (negative self-identity)',
    clauses: [
      'universality.arisen = genus',
      'genus = concreteUniversality',
      'genus.notInheres = inSubject',
      'genus.not = property',
      'genus.contains = allSingularDeterminaciesDissolved',
      'genus.positedAs = negativeSelfIdentity',
      'genus.essentially = subject',
      'genus.notSubsumed = underPredicate',
    ],
    predicates: [{ name: 'IsGenusConcrete', args: [] }],
    relations: [
      { predicate: 'contains', from: 'genus', to: 'singularDeterminacies' },
    ],
  },
  {
    id: 'j-ref-op-24-judgment-altered',
    chunkId: 'j-ref-24-judgment-nature-altered',
    label: 'Nature of judgment altogether altered',
    clauses: [
      'judgment.was = judgmentOfSubsumption',
      'predicate.determinedAs = implicitUniversal',
      'predicate.couldBe = relationalDeterminationOrMark',
      'mark.makesSubject = essentiallyOnlyAppearance',
    ],
    predicates: [{ name: 'AltersJudgmentNature', args: ['reflectionJudgment'] }],
    relations: [
      { predicate: 'alters', from: 'objectiveUniversality', to: 'judgmentNature' },
    ],
  },
  {
    id: 'j-ref-op-25-reversal-subsumption',
    chunkId: 'j-ref-25-reversal-subsumption',
    label: 'Reversal of subsumption — predicate becomes particular',
    clauses: [
      'whenUniversality.objectified = then subject.ceasesToBeSubsumed',
      'predicate.respectToObjectiveUniversality = particular',
      'relation.reversed = true',
      'judgment.sublated = true',
    ],
    predicates: [{ name: 'ReversesSubsumption', args: [] }],
    relations: [
      { predicate: 'reverses', from: 'reflectionProcess', to: 'subsumptionRelation' },
    ],
  },
  {
    id: 'j-ref-op-26-copula-sublation',
    chunkId: 'j-ref-26-copula-sublation',
    label: 'Sublation coincides with copula determination',
    clauses: [
      'sublationOfJudgment.coincides = withCopulaDetermination',
      'sublationAndTransition = oneAndSame',
      'subject.raisedToUniversality = equalToPredicate',
      'predicate.contains = particularityWithinItself',
      'subjectAndPredicate.identical = inCopula',
    ],
    predicates: [{ name: 'CopulaCoincidesWithSublation', args: [] }],
    relations: [
      { predicate: 'coincides', from: 'sublation', to: 'copulaDetermination' },
    ],
  },
  {
    id: 'j-ref-op-27-genus-nature-identity',
    chunkId: 'j-ref-27-genus-nature-identity',
    label: 'Identity is genus or nature in and for itself',
    clauses: [
      'identity = genusOrNatureInAndForItself',
      'identity.divides = innerNature',
      'innerNature.connects = subjectAndPredicate',
      'connection = necessity',
      'termsOfJudgment = unessentialDistinctions',
    ],
    predicates: [{ name: 'IsGenusNatureIdentity', args: ['identity'] }],
    relations: [
      { predicate: 'connects', from: 'innerNature', to: 'subjectAndPredicate' },
    ],
  },
  {
    id: 'j-ref-op-28-immediate-consequence',
    chunkId: 'j-ref-28-immediate-consequence',
    label: 'Immediate consequence — belongs to genus by nature',
    clauses: [
      'whatBelongsToAllSingularsOfGenus.belongsToGenus = byNature',
      'immediateConsequence.expresses = subjectShedsForm',
      'subject.becomes = "the human being"',
      'combination.implicitAndExplicit = basisOfNecessityJudgment',
    ],
    predicates: [{ name: 'YieldsNecessityJudgment', args: ['combination'] }],
    relations: [
      { predicate: 'yields', from: 'copulaTransformation', to: 'necessityJudgment' },
    ],
  },
];

/* accessors */
export function getChunk(oneBasedIndex: number): Chunk | null {
  return CANONICAL_CHUNKS[oneBasedIndex - 1] ?? null;
}

export function getLogicalOpsForChunk(oneBasedIndex: number) {
  const chunk = getChunk(oneBasedIndex);
  if (!chunk) return [];
  return LOGICAL_OPERATIONS.filter((op) => op.chunkId === chunk.id);
}
