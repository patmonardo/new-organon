import type { Chunk, LogicalOperation } from '../../../types';

/*
  Ratio of Powers — C. THE RATIO OF POWERS

  This module translates the Ratio of Powers section:
  - Quantum as being-for-itself: self-identical in otherness
  - Amount determined by unit: unit is amount as against itself as unit
  - Power: aggregate where each unit is the aggregate itself
  - Quantum's concept realized: otherness determined through quantum itself
  - Quantum returns to quality: quantity is quality itself
  - Double transition: quality → quantity, quantity → quality
  - Transition to measure: quantum becomes measure

  PHILOSOPHICAL NOTES:

  1. **Quantum as Being-for-Itself**:
     Quantum, in positing itself as self-identical in its otherness and determining
     its own movement of self-surpassing, has come to be a being-for-itself. As
     qualitative totality, it has unit and amount as moments.

  2. **Ratio of Powers**:
     Amount is determined only by unit. Unit is amount as against itself as unit.
     Otherness (amount of units) is the unit itself. Power is aggregate of units,
     each of which is this aggregate itself. Quantum's otherness is determined
     purely by itself.

  3. **Quantum's Concept Realized**:
     Ratio of powers is display of what quantum is implicitly in itself. Quantum
     is indifferent determinateness posited as sublated - limit that is no limit,
     continues in otherness, remains identical with itself. In ratio of powers,
     quantum's otherness (surpassing into another quantum) is determined through
     quantum itself.

  4. **Quantum Returns to Quality**:
     Quantum has passed over into another determination - its determination is now
     also as determinateness, the in-itself also as existence. Quantum has become
     the other of itself, namely quality. Externality is now posited as mediated
     by quantum itself, as moment of quantum. In externality, quantum refers itself
     to itself - is being as quality. Quantity is quality itself.

  5. **Double Transition and Measure**:
     For totality to be posited, double transition required: (1) quality → quantity,
     (2) quantity → quality. Through first, identity present in itself. Through second,
     quantity equally contained in quality. Quantum is henceforth no longer indifferent
     but sublated - it is quality and that by virtue of which anything is what it is.
     The truth of quantum is to be measure.

  6. **Connection to Laws of Mathematical Cognition**:
     Ratio of Powers completes the World/Law (Property) structure - the EssentialRelation
     (Aspect) where quantum's otherness is self-determined. This transitions to Measure,
     the unity of quality and quantity - the foundation for the Theory of Measure and
     the complete Laws of Mathematical Cognition.
*/

// ============================================================================
// C. THE RATIO OF POWERS
// ============================================================================

export const CANONICAL_CHUNKS: Chunk[] = [
  {
    id: 'powers-being-for-itself',
    title: 'Quantum as being-for-itself: unit is amount',
    text: `C. THE RATIO OF POWERS

1. Quantum, in positing itself as self-identical in its otherness
and in determining its own movement of self-surpassing,
has come to be a being-for-itself.
As such a qualitative totality, in positing itself as developed,
it has for its moments the conceptual determinations of number:
the unit and the amount.
This last, amount, is in the inverse ratio still an aggregate
which is not determined as amount by the unit itself but from elsewhere,
by a third determinate aggregate;
but now it is posited as determined only by the unit.
This is the case in the ratio of powers where the unit,
which in it is amount, is at the same time
the amount as against itself as unit.
The otherness, the amount of units, is the unit itself.
The power is an aggregate of units,
each of which is this aggregate itself.
The quantum, as indifferent determinateness, changes;
but inasmuch as the alteration is the raising to a power,
the otherness of the quantum is determined purely by itself.
The quantum is thus posited in the power as having returned into itself;
it is immediately itself and also its otherness.`,
    summary:
      'Ratio of powers: Quantum as being-for-itself (self-identical in otherness). Amount determined only by unit. Unit is amount as against itself as unit. Otherness (amount of units) is unit itself. Power is aggregate of units, each is aggregate itself. Quantum\'s otherness determined purely by itself. Quantum returned into itself - immediately itself and its otherness.'
  },

  {
    id: 'powers-exponent-qualitative',
    title: 'Exponent: entirely qualitative nature',
    text: `The exponent of this ratio is no longer an immediate quantum,
as in the direct ratio and also in the inverse ratio.
In the ratio of powers, the exponent
is of an entirely qualitative nature;
it is this simple determinateness:
that the amount is the unit itself,
that the quantum is self-identical in its otherness.
And the side of its quantitative nature is to be found in this:
that the limit or negation is not an immediate existent,
but that existence is posited rather
as continuing in its otherness.
For the truth of quality is precisely to be quantity,
or immediate determinateness as sublated.`,
    summary:
      'Exponent: No longer immediate quantum. Entirely qualitative nature - simple determinateness that amount is unit itself, quantum self-identical in otherness. Quantitative side: limit/negation not immediate existent, existence continues in otherness. Truth of quality is quantity (immediate determinateness as sublated).'
  },

  {
    id: 'powers-concept-realized',
    title: 'Quantum\'s concept realized',
    text: `2. The ratio of powers appears at first as
an external alteration to which a given quantum is subjected;
but it has a closer connection with the concept of quantum,
namely, that in the existence into which the quantum
has developed in the ratio of powers,
quantum has attained that concept,
has realized its concept to the fullest.
The ratio of powers is the display of
what the quantum is implicitly in itself;
it expresses its determinateness of quantum
or the quality by which it is distinguished from another.
Quantum is indifferent determinateness posited as sublated,
that is to say, determinateness as limit,
one which is just as much no determinateness,
which continues in its otherness and in it,
therefore, remains identical with itself.
Thus is quantum posited in the ratio of powers:
its otherness, the surpassing of itself in another quantum,
as determined through the quantum itself.`,
    summary:
      'Concept realized: Ratio of powers displays what quantum is implicitly. Quantum has attained/realized its concept. Quantum is indifferent determinateness posited as sublated - limit that is no limit, continues in otherness, remains identical. In ratio of powers, quantum\'s otherness (surpassing into another quantum) is determined through quantum itself.'
  },

  {
    id: 'powers-progressive-realization',
    title: 'Progressive realization: quantum\'s quality as ratio',
    text: `If we compare the progressive realization
of quantum in the preceding ratios,
we find that quantum's quality of being
the difference of itself from itself is simply this:
that it is a ratio.
As the direct ratio, quantum is this posited difference
only in the first instance or immediately,
so that the self-reference which it has as exponent,
in contrast to its differences,
counts only as the fixity of an amount of the unit.
In the inverse ratio, as negatively determined,
quantum is a relating of itself to itself
(to itself as to its negation
in which, however, it has its value);
as an affirmative self-reference,
it is an exponent which, as quantum,
is only implicitly in itself the determinant of its moments.
But in the ratio of powers quantum is present
in the difference as a difference of itself from itself.
This externality of determinateness is
the quality of quantum and is thus posited,
in conformity to the concept of quantum,
as quantum's own determining,
as its reference to itself, its quality.`,
    summary:
      'Progressive realization: Quantum\'s quality is difference of itself from itself - that it is a ratio. Direct ratio: difference immediate, self-reference as fixity of amount. Inverse ratio: relating to itself (negation), exponent implicitly determinant. Ratio of powers: quantum in difference as difference of itself from itself. Externality is quality - quantum\'s own determining, reference to itself.'
  },

  {
    id: 'powers-return-quality',
    title: 'Quantum returns to quality: quantity is quality',
    text: `3. By being thus posited as it is in conformity to its concept,
quantum has passed over into another determination;
or, as we can also say, its determination is
now also as the determinateness,
the in-itself also as existence.
It is quantum in so far as the externality
or the indifference of its determining
(as we say, it is that which can be increased or decreased)
is simply accepted and immediately posited;
it has become the other of itself, namely quality,
in so far as that same externality is now posited
as mediated by quantum itself
and hence as a moment of quantum,
so that in that very externality
quantum refers itself to itself,
is being as quality.
At first quantity as such thus appears
in opposition to quality;
but quantity is itself a quality,
self-referring determinateness as such,
distinct from the determinateness which is its other,
from quality as such.
Except that quantity is not only a quality,
but the truth of quality itself is quantity,
and quality has demonstrated itself as passing over into it.
Quantity, in its truth, is instead the externality
which has returned into itself,
which is no longer indifferent.
Thus is quantity quality itself,
in such a way that outside this determination
quality as such would yet not be anything at all.`,
    summary:
      'Return to quality: Quantum passed over into another determination - determination now also as determinateness, in-itself as existence. Quantum has become other of itself (quality). Externality now mediated by quantum itself, as moment - in externality quantum refers itself to itself, is being as quality. Quantity is quality itself. Truth of quality is quantity. Quantity is externality returned into itself - quality itself.'
  },

  {
    id: 'powers-double-transition-measure',
    title: 'Double transition and measure',
    text: `For the totality to be posited,
a double transition is required,
not only the transition of
one determinateness into the other,
but equally the transition of
this other into the first,
its going back into it.
Through the first transition,
the identity of the two is present at first only in itself:
quality is contained in quantity,
but the latter still is only a one-sided determinateness.

Conversely, that quantity is equally contained in quality,
that it is equally also only as sublated,
this results in the second transition,
the going back into the first determinateness.
This remark regarding the necessity of the double transition
is everywhere of great importance for scientific method.

Quantum is henceforth no longer an indifferent
or external determination but is sublated as such,
and it is a quality and that by virtue of which
anything is what it is;
the truth of quantum is to be measure.`,
    summary:
      'Double transition: For totality, double transition required - (1) quality → quantity, (2) quantity → quality. First: identity in itself (quality contained in quantity). Second: quantity contained in quality (as sublated). Quantum no longer indifferent but sublated - it is quality and that by virtue of which anything is what it is. Truth of quantum is to be measure.'
  }
];

export const LOGICAL_OPERATIONS: LogicalOperation[] = [
  {
    id: 'op-powers-1',
    chunkId: 'powers-being-for-itself',
    label: 'Quantum as being-for-itself',
    clauses: [
      'Quantum posits itself as self-identical in otherness',
      'Determines its own movement of self-surpassing',
      'Quantum is being-for-itself',
      'Qualitative totality with unit and amount as moments',
      'Amount determined only by unit',
      'Unit is amount as against itself as unit',
      'Otherness (amount of units) is unit itself',
      'Power is aggregate of units, each is aggregate itself',
      'Quantum\'s otherness determined purely by itself',
      'Quantum returned into itself - immediately itself and its otherness'
    ],
    predicates: [
      { name: 'posits', args: ['quantum', 'selfIdentical'] },
      { name: 'determines', args: ['quantum', 'movement'] },
      { name: 'is', args: ['quantum', 'beingForItself'] },
      { name: 'is', args: ['quantum', 'qualitativeTotality'] },
      { name: 'has', args: ['quantum', 'moments'] },
      { name: 'isDetermined', args: ['amount', 'byUnit'] },
      { name: 'is', args: ['unit', 'amount'] },
      { name: 'is', args: ['otherness', 'unit'] },
      { name: 'is', args: ['power', 'aggregate'] },
      { name: 'isDetermined', args: ['otherness', 'byQuantum'] },
      { name: 'returns', args: ['quantum', 'itself'] }
    ],
    relations: [
      { predicate: 'is', from: 'quantum', to: 'beingForItself' },
      { predicate: 'isDetermined', from: 'amount', to: 'byUnit' },
      { predicate: 'returns', from: 'quantum', to: 'itself' }
    ],
    candidateSummary:
      'Ratio of powers: Quantum as being-for-itself (self-identical in otherness). Amount determined only by unit. Unit is amount as against itself. Otherness is unit itself. Power is aggregate where each is aggregate itself. Quantum\'s otherness determined purely by itself - returned into itself.'
  },

  {
    id: 'op-powers-2',
    chunkId: 'powers-exponent-qualitative',
    label: 'Exponent: entirely qualitative',
    clauses: [
      'Exponent no longer immediate quantum',
      'Entirely qualitative nature',
      'Simple determinateness: amount is unit itself',
      'Quantum self-identical in otherness',
      'Quantitative side: limit not immediate existent',
      'Existence continues in otherness',
      'Truth of quality is quantity'
    ],
    predicates: [
      { name: 'isNot', args: ['exponent', 'immediateQuantum'] },
      { name: 'is', args: ['exponent', 'qualitative'] },
      { name: 'is', args: ['amount', 'unit'] },
      { name: 'is', args: ['quantum', 'selfIdentical'] },
      { name: 'isNot', args: ['limit', 'immediateExistent'] },
      { name: 'continues', args: ['existence', 'otherness'] },
      { name: 'is', args: ['truthOfQuality', 'quantity'] }
    ],
    relations: [
      { predicate: 'is', from: 'exponent', to: 'qualitative' },
      { predicate: 'is', from: 'amount', to: 'unit' }
    ],
    candidateSummary:
      'Exponent: Entirely qualitative nature - amount is unit itself, quantum self-identical in otherness. Limit not immediate existent, existence continues in otherness. Truth of quality is quantity.'
  },

  {
    id: 'op-powers-3',
    chunkId: 'powers-concept-realized',
    label: 'Quantum\'s concept realized',
    clauses: [
      'Ratio of powers displays what quantum is implicitly',
      'Quantum has attained/realized its concept',
      'Quantum is indifferent determinateness posited as sublated',
      'Determinateness as limit that is no limit',
      'Continues in otherness, remains identical',
      'In ratio of powers, otherness determined through quantum itself'
    ],
    predicates: [
      { name: 'displays', args: ['ratioOfPowers', 'whatQuantumIs'] },
      { name: 'hasAttained', args: ['quantum', 'concept'] },
      { name: 'hasRealized', args: ['quantum', 'concept'] },
      { name: 'is', args: ['quantum', 'indifferentDeterminateness'] },
      { name: 'isPositedAs', args: ['determinateness', 'sublated'] },
      { name: 'is', args: ['limit', 'noLimit'] },
      { name: 'continues', args: ['quantum', 'otherness'] },
      { name: 'remains', args: ['quantum', 'identical'] },
      { name: 'isDetermined', args: ['otherness', 'throughQuantum'] }
    ],
    relations: [
      { predicate: 'hasAttained', from: 'quantum', to: 'concept' },
      { predicate: 'isDetermined', from: 'otherness', to: 'throughQuantum' }
    ],
    candidateSummary:
      'Concept realized: Ratio of powers displays what quantum is implicitly. Quantum has attained its concept. Quantum is indifferent determinateness posited as sublated - limit that is no limit, continues in otherness, remains identical. Otherness determined through quantum itself.'
  },

  {
    id: 'op-powers-4',
    chunkId: 'powers-progressive-realization',
    label: 'Progressive realization: quantum\'s quality as ratio',
    clauses: [
      'Quantum\'s quality is difference of itself from itself',
      'That it is a ratio',
      'Direct ratio: difference immediate, self-reference as fixity',
      'Inverse ratio: relating to itself (negation), exponent implicitly determinant',
      'Ratio of powers: quantum in difference as difference of itself from itself',
      'Externality is quality - quantum\'s own determining'
    ],
    predicates: [
      { name: 'is', args: ['quality', 'difference'] },
      { name: 'is', args: ['quality', 'ratio'] },
      { name: 'is', args: ['directRatio', 'immediate'] },
      { name: 'is', args: ['selfReference', 'fixity'] },
      { name: 'relates', args: ['quantum', 'itself'] },
      { name: 'is', args: ['exponent', 'implicitlyDeterminant'] },
      { name: 'is', args: ['quantum', 'inDifference'] },
      { name: 'is', args: ['externality', 'quality'] },
      { name: 'is', args: ['determining', 'quantumOwn'] }
    ],
    relations: [
      { predicate: 'is', from: 'quality', to: 'ratio' },
      { predicate: 'is', from: 'externality', to: 'quality' }
    ],
    candidateSummary:
      'Progressive realization: Quantum\'s quality is difference of itself from itself - that it is a ratio. Direct: immediate difference. Inverse: relating to itself. Powers: quantum in difference as difference of itself from itself. Externality is quality - quantum\'s own determining.'
  },

  {
    id: 'op-powers-5',
    chunkId: 'powers-return-quality',
    label: 'Quantum returns to quality',
    clauses: [
      'Quantum passed over into another determination',
      'Determination now also as determinateness, in-itself as existence',
      'Quantum has become other of itself (quality)',
      'Externality now mediated by quantum itself, as moment',
      'In externality quantum refers itself to itself, is being as quality',
      'Quantity is quality itself',
      'Truth of quality is quantity',
      'Quantity is externality returned into itself'
    ],
    predicates: [
      { name: 'passesOver', args: ['quantum', 'anotherDetermination'] },
      { name: 'is', args: ['determination', 'determinateness'] },
      { name: 'is', args: ['inItself', 'existence'] },
      { name: 'becomes', args: ['quantum', 'quality'] },
      { name: 'isMediated', args: ['externality', 'byQuantum'] },
      { name: 'is', args: ['externality', 'moment'] },
      { name: 'refers', args: ['quantum', 'itself'] },
      { name: 'is', args: ['quantum', 'beingAsQuality'] },
      { name: 'is', args: ['quantity', 'quality'] },
      { name: 'is', args: ['truthOfQuality', 'quantity'] },
      { name: 'returns', args: ['externality', 'itself'] }
    ],
    relations: [
      { predicate: 'becomes', from: 'quantum', to: 'quality' },
      { predicate: 'is', from: 'quantity', to: 'quality' },
      { predicate: 'returns', from: 'externality', to: 'itself' }
    ],
    candidateSummary:
      'Return to quality: Quantum passed over - determination as determinateness, in-itself as existence. Quantum becomes quality. Externality mediated by quantum itself, as moment - in externality quantum refers itself to itself, is being as quality. Quantity is quality itself.'
  },

  {
    id: 'op-powers-6',
    chunkId: 'powers-double-transition-measure',
    label: 'Double transition and measure',
    clauses: [
      'For totality, double transition required',
      '(1) Quality → quantity: identity in itself (quality contained in quantity)',
      '(2) Quantity → quality: quantity contained in quality (as sublated)',
      'Double transition important for scientific method',
      'Quantum no longer indifferent but sublated',
      'Quantum is quality and that by virtue of which anything is what it is',
      'Truth of quantum is to be measure'
    ],
    predicates: [
      { name: 'isRequired', args: ['doubleTransition', 'totality'] },
      { name: 'transitions', args: ['quality', 'quantity'] },
      { name: 'isContained', args: ['quality', 'quantity'] },
      { name: 'transitions', args: ['quantity', 'quality'] },
      { name: 'isContained', args: ['quantity', 'quality'] },
      { name: 'is', args: ['quantity', 'sublated'] },
      { name: 'is', args: ['doubleTransition', 'important'] },
      { name: 'isNot', args: ['quantum', 'indifferent'] },
      { name: 'is', args: ['quantum', 'sublated'] },
      { name: 'is', args: ['quantum', 'quality'] },
      { name: 'is', args: ['quantum', 'thatByVirtueOfWhich'] },
      { name: 'is', args: ['truthOfQuantum', 'measure'] }
    ],
    relations: [
      { predicate: 'transitions', from: 'quality', to: 'quantity' },
      { predicate: 'transitions', from: 'quantity', to: 'quality' },
      { predicate: 'is', from: 'truthOfQuantum', to: 'measure' }
    ],
    candidateSummary:
      'Double transition: (1) Quality → quantity (identity in itself). (2) Quantity → quality (quantity contained as sublated). Quantum no longer indifferent but sublated - it is quality and that by virtue of which anything is what it is. Truth of quantum is to be measure.'
  }
];

/* minimal, stable accessors */
export function getChunk(oneBasedIndex: number): Chunk | null {
  return CANONICAL_CHUNKS[oneBasedIndex - 1] ?? null;
}

export function getChunkById(id: string): Chunk | null {
  return CANONICAL_CHUNKS.find((c) => c.id === id) ?? null;
}

export function getLogicalOpsForChunkId(chunkId: string): LogicalOperation[] {
  return LOGICAL_OPERATIONS.filter((op) => op.chunkId === chunkId);
}

export function getAllChunks(): Chunk[] {
  return CANONICAL_CHUNKS;
}

export function getLogicalOperations(): LogicalOperation[] {
  return LOGICAL_OPERATIONS;
}

