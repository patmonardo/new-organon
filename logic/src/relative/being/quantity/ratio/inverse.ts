import type { Chunk, LogicalOperation } from '../../../types';

/*
  Inverse Ratio â€” B. THE INVERSE RATIO

  This module translates the Inverse Ratio section:
  - Sublated direct ratio: exponent as product, unity of unit and amount
  - Qualitative moment: exponent as negative towards itself, as limit
  - Reciprocal limiting: each moment limits other, continues into other negatively
  - Bad infinity: sides approximate exponent but cannot attain it
  - Transition to ratio of powers: exponent rejoins itself in externality

  PHILOSOPHICAL NOTES:

  1. **Inverse Ratio as Sublated Direct**:
     Exponent has value of product - unity of unit and amount. Exponent is
     immediate quantum but posited as negative towards itself as quantum of ratio,
     hence as qualitative, as limit. Qualitative moment comes to fore.

  2. **Reciprocal Limiting**:
     Two moments limit themselves inside exponent. Each is negative of other.
     One becomes smaller as other becomes greater. Each possesses magnitude
     to extent it is magnitude that other lacks. Each contains other, is
     proportioned to it.

  3. **Bad Infinity in Inverse Ratio**:
     Exponent is limit of sides - they approximate but cannot attain it.
     Bad infinity: sides approximate beyond infinitely. But this infinite
     (exponent) is affirmatively present on their side - simple quantum of
     exponent. Exponent is in-itself, unity of two.

  4. **Transition to Ratio of Powers**:
     Exponent's fixity develops as mediation of itself with itself in its other
     (finite moments). Exponent rejoins itself in externally existent otherness.
     Exponent preserves itself in negation of indifferent subsistence - determining
     factor in self-surpassing movement. Ratio determined as ratio of powers.

  5. **Connection to Laws of Mathematical Cognition**:
     Inverse Ratio shows the negative/limiting aspect of mathematical relations -
     the World/Law (Property) where quanta limit each other. This prepares for
     Ratio of Powers where unity is self-production, leading to Measure.
*/

// ============================================================================
// B. THE INVERSE RATIO
// ============================================================================

export const CANONICAL_CHUNKS: Chunk[] = [
  {
    id: 'inverse-sublated-direct',
    title: 'Inverse ratio: sublated direct ratio',
    text: `B. THE INVERSE RATIO

1. The ratio as now before us is the sublated direct ratio.
It was an immediate relation and therefore not yet truly determinate;
henceforth, the newly introduced determinateness gives
the exponent the value of a product,
the unity of unit and amount.
In immediacy, as we have just seen,
it was possible for the exponent to be
indifferently taken as unit or amount.
Moreover, it also was only a quantum in general
and therefore an amount by choice.
One side was the unit,
and this was to be taken as a numerical one
with respect to which the other side would be a fixed amount
and at the same time the exponent.
The quality of the latter, therefore,
was only that this quantum is taken as fixed,
or rather that the constant only
has the meaning of quantum.

Now in the inverse ratio,
the exponent is as quantum likewise immediate,
a quantum or other which is assumed as fixed.
But to the one of the other quantum in the ratio,
this quantum is not a fixed amount; the ratio,
previously taken as fixed, is now posited instead as alterable;
if another quantum is taken as
the unit of the one side,
the other side now no longer remains
the same amount of units of the first side.
In direct ratio, this unit
is only the common element of both sides;
as such, it continues into the other side, the amount;
the amount itself, or the exponent,
is by itself indifferent to the unit.

But as the determinateness of the ratio now is,
the amount as such alters relative to the unit
with respect to which it makes up the other side of the ratio;
whenever another quantum is taken as the unit,
that amount alters.
Consequently, although the exponent is
still only an immediate quantum
and only arbitrarily assumed as fixed,
it does not remain fixed in the side of the ratio:
rather this side, and with it
the direct ratio of the sides, is alterable.
In the ratio now before us,
the exponent as the determining quantum is
thus posited as negative towards itself
as a quantum of the ratio,
and hence as qualitative, as limit;
the result is that the qualitative moment distinctly comes
to the fore for itself as against the quantitative moment.
In the direct ratio, the alteration of the two sides is
only the one alteration of the quantum
from which the unity which is the common element is taken;
by as much, therefore, as the one side is
increased or decreased, so also is the other;
the ratio itself is indifferent to this alteration
and the alteration external to the ratio.
In the indirect ratio, on the contrary,
although still arbitrary according to
the moment of quantitative indifference,
the alteration is contained within the ratio,
and its arbitrary quantitative extension is
limited by the negative determinateness
of the exponent as by a limit.`,
    summary:
      'Inverse ratio: Sublated direct ratio. Exponent has value of product (unity of unit/amount). Exponent is immediate quantum but posited as negative towards itself as quantum of ratio - hence qualitative, as limit. Qualitative moment comes to fore. Alteration contained within ratio, limited by exponent as limit.'
  },

  {
    id: 'inverse-qualitative-nature',
    title: 'Qualitative nature: reciprocal limiting',
    text: `2. We must now consider this qualitative nature
of the indirect ratio more closely, as it is realized,
and sort out the entanglement of the affirmative
and the negative moments that are contained in it.
Quantum is posited as being quantum qualitatively,
that is, as self-determining,
as displaying its limit within it.
Accordingly, first, it is an immediate magnitude
as simple determinateness;
it is the whole as existent, an affirmative quantum.
But, second, this immediate determinateness is
at the same time limit;
for that purpose it is distinguished into two quanta
which are at first the other of each other;
but as the qualitative determinateness of these quanta,
and as a determinateness which is moreover complete,
quantum is the unity of the unit and the amount,
a product of which the two are the factors.
Thus on the one hand the exponent of their ratio
is in them identical with itself
and is their affirmative moment by which they are quanta;
on the other hand, as the negation posited in them,
it is in them the unity according to which each,
at first an immediate and limited quantum in general,
is at the same time so limited as to be
only implicitly in itself identical with its other.
Third, the exponent as the simple determinateness is
the negative unity of this differentiation of it into the two quanta,
and the limit of their reciprocal limiting.`,
    summary:
      'Qualitative nature: Quantum is self-determining, displaying limit within. (1) Immediate magnitude, affirmative quantum. (2) Immediate determinateness is limit - distinguished into two quanta. Quantum is unity of unit/amount (product). Exponent is affirmative moment and negation (unity). (3) Exponent is negative unity, limit of reciprocal limiting.'
  },

  {
    id: 'inverse-reciprocal-limiting',
    title: 'Reciprocal limiting: each contains other',
    text: `In accordance with these determinations,
the two moments limit themselves inside the exponent
and each is the negative of the other,
for the exponent is their determinate unity;
the one moment becomes as many
times smaller as the other becomes greater;
each possesses a magnitude of its own
to the extent that this magnitude is in it that of their other,
that is, is the magnitude that the other lacks.
The magnitude of each in this way
continues into the other negatively;
how much it is in amount,
that much it sublates in the other as amount
and is what it is only through this negation
or limit which is posited in it by the other.
In this way, each contains the other as well,
and is proportioned to it,
for each is supposed to be only that quantum
which the other is not;
the magnitude of the other is
indispensable to the value of each,
and therefore inseparable from it.`,
    summary:
      'Reciprocal limiting: Two moments limit themselves inside exponent. Each is negative of other. One becomes smaller as other becomes greater. Each possesses magnitude to extent it is magnitude other lacks. Each continues into other negatively. Each contains other, is proportioned to it - magnitude of other indispensable.'
  },

  {
    id: 'inverse-bad-infinity',
    title: 'Bad infinity: sides approximate exponent',
    text: `This continuity of each in the other
constitutes the moment of unity
through which the two magnitudes stand in relation;
the moment of the one determinateness,
of the simple limit which is the exponent.
This unity, the whole, constitutes the in-itself
of each from which their given magnitude is distinct:
this is the magnitude according to which each is
only to the extent that it takes from the other
a part of their common in-itself which is the whole.
But each can take from the other only as much
as will make it equal to this in-itself;
it has its maximum in the exponent
which, in accordance with the stated second determination,
is the limit of the reciprocal delimitation.
And since each is a moment of the ratio only
to the extent that it limits the other
and is thereby limited by it,
it loses this, its determination,
by making itself equal to its in-itself;
in this loss, the other magnitude will not only
become a zero, but itself vanishes,
for what it ought to be is not just a quantum
but what it is as such a quantum,
namely only the moment of a ratio.
Thus each side is the contradiction
between the determination as its in-itself,
that is, as the unity of the whole which is the exponent,
and the determination as the moment of a ratio;
this contradiction is infinity again,
in a new form peculiar to it.

The exponent is the limit of the sides of its ratio,
within which limit the sides increase and decrease
proportionately to each other;
but they cannot become equal to this exponent
because of the latter's affirmative determinateness as quantum.
Thus, as the limit of their reciprocal limiting,
the exponent is (a) their beyond which they
infinitely approximate but can never attain.
This infinity in which the sides approximate their beyond is
the bad infinity of the infinite progression;
it is an infinity which is itself finite,
that finds its restriction in its opposite,
in the finitude of each side
and of the exponent itself,
and for this reason is only approximation.
But (b) the bad infinite is equally posited here
as what it is in truth, namely
the negative moment in general,
in accordance with which the exponent
is the simple limit as against the distinct quanta of the ratio:
it is the in-itself to which, as the absolutely alterable,
the finitude of the quanta is referred,
but which, as the quanta's negation,
remains absolutely different from them.
This infinite, which the quanta can only approximate,
is then equally found affirmatively present on their side:
the simple quantum of the exponent.
In it is attained the beyond with which
the sides of the ratio are burdened;
it is in itself the unity of the two or, consequently,
in itself the other side of each side;
for each side has only as much value
as the other does not have;
its whole determinateness thus rests in the other,
and this, their being-in-itself, is as affirmative infinity
simply the exponent.`,
    summary:
      'Bad infinity: Unity (exponent) is in-itself of each. Each can take from other only to make equal to in-itself (maximum in exponent). Each loses determination making equal to in-itself - contradiction (in-itself vs moment). Exponent is limit - sides approximate but cannot attain (bad infinity). But infinite (exponent) is affirmatively present - simple quantum of exponent, unity of two.'
  },

  {
    id: 'inverse-transition-powers',
    title: 'Transition to ratio of powers',
    text: `3. With this, however, we have
the transition of the inverse ratio
into a determination other than
the one it had at first.
This consisted in the fact that
the quantum is immediate
but at the same time so connected to
an other that the greater it is,
the smaller is the other,
that it is what it is by virtue of
negatively relating to the other;
also, a third magnitude is the
common restriction on this alteration
in magnitude that the two quanta undergo.
This reciprocal alteration,
as contrasted to the fixed qualitative limit,
is here their distinctive property;
they have the determination of
sum up are not only that this infinite beyond is
at the same time some present finite quantum or other,
but that its fixity
(which makes it with respect to the quantitative moment
the infinite beyond that it is,
and which is the qualitative moment of
being only as abstract self-reference)
has developed itself as a mediation
of itself with itself in its other,
the finite moments of the relation.
The general point is that the whole is as
such the limit of the reciprocal limiting of the two terms,
and that the negation of the negation
(and consequently infinity, the affirmative self-relation)
is therefore posited.
The more particular point is that, as product,
the exponent already implicitly is already
the unity of unit and amount,
whereas each of these two terms is
only one of two moments,
and for this reason the exponent encloses them in itself
and in them it implicitly refers itself to itself.
But in the inverse ratio the difference has developed
into the externality of quantitative being,
and the qualitative being is not only something fixed,
nor does it simply enclose the two moments
of the ratio immediately in it,
but in the externally existent otherness it rejoins itself.
It is this determination that stands out as a result
in the moments we have seen.
The exponent, namely, is found to be
the implicit being whose moments are realized in quanta
and in their generalized alterability.
The indifference of the magnitudes of these moments in the course of their
alteration displays itself as an infinite progression,
the basis of which is that in their indifference
their determinateness is to have their value
each in the value of the other.
Thus, (a) according to the affirmative side of their quantum,
the determinateness of the moments is that each is in itself
the whole of the exponent;
equally (b) they have the magnitude of the
exponent for their negative moment, for their reciprocal limiting;
their limit is that of the exponent.
The fact that such moments do not have any other immanent limit,
any fixed immediacy, is posited in the infinite progression
of their existence and in their limitation,
in the negation of every particular value.
This is, accordingly, the negation of the externality
of the exponent which is displayed in them, and the exponent
(itself equally a quantum as such and also expanded into quanta)
is thereby posited as preserving itself
in the negation of the indifferent subsistence of the moments,
as rejoining itself, and thus as the determining factor
in this movement of self-surpassing.

The ratio is hereby determined as the ratio of powers.`,
    summary:
      'Transition to powers: Exponent\'s fixity develops as mediation of itself with itself in its other (finite moments). Negation of negation posited (affirmative self-relation). Exponent as product is unity of unit/amount - encloses moments, refers itself to itself. In inverse ratio, difference developed into externality. Qualitative being rejoins itself in externally existent otherness. Exponent preserves itself in negation of indifferent subsistence - determining factor in self-surpassing. Ratio determined as ratio of powers.'
  }
];

export const LOGICAL_OPERATIONS: LogicalOperation[] = [
  {
    id: 'op-inverse-1',
    chunkId: 'inverse-sublated-direct',
    label: 'Inverse ratio: sublated direct',
    clauses: [
      'Inverse ratio is sublated direct ratio',
      'Exponent has value of product (unity of unit/amount)',
      'Exponent is immediate quantum',
      'But posited as negative towards itself as quantum of ratio',
      'Hence qualitative, as limit',
      'Qualitative moment comes to fore',
      'Alteration contained within ratio',
      'Limited by exponent as limit'
    ],
    predicates: [
      { name: 'is', args: ['inverseRatio', 'sublatedDirect'] },
      { name: 'has', args: ['exponent', 'valueOfProduct'] },
      { name: 'is', args: ['exponent', 'immediateQuantum'] },
      { name: 'isPosited', args: ['exponent', 'negative'] },
      { name: 'is', args: ['exponent', 'qualitative'] },
      { name: 'is', args: ['exponent', 'limit'] },
      { name: 'comesToFore', args: ['qualitativeMoment'] },
      { name: 'isContained', args: ['alteration', 'ratio'] },
      { name: 'isLimited', args: ['alteration', 'exponent'] }
    ],
    relations: [
      { predicate: 'is', from: 'inverseRatio', to: 'sublatedDirect' },
      { predicate: 'is', from: 'exponent', to: 'limit' }
    ],
    candidateSummary:
      'Inverse ratio: Sublated direct. Exponent as product (unity of unit/amount). Exponent is immediate quantum but posited as negative towards itself - hence qualitative, as limit. Qualitative moment comes to fore. Alteration contained within ratio, limited by exponent.'
  },

  {
    id: 'op-inverse-2',
    chunkId: 'inverse-qualitative-nature',
    label: 'Qualitative nature: self-determining',
    clauses: [
      'Quantum is self-determining, displaying limit within',
      '(1) Immediate magnitude, affirmative quantum',
      '(2) Immediate determinateness is limit - distinguished into two quanta',
      'Quantum is unity of unit/amount (product)',
      'Exponent is affirmative moment and negation (unity)',
      '(3) Exponent is negative unity, limit of reciprocal limiting'
    ],
    predicates: [
      { name: 'is', args: ['quantum', 'selfDetermining'] },
      { name: 'displays', args: ['quantum', 'limit'] },
      { name: 'is', args: ['quantum', 'immediateMagnitude'] },
      { name: 'is', args: ['quantum', 'affirmative'] },
      { name: 'is', args: ['determinateness', 'limit'] },
      { name: 'isDistinguished', args: ['quantum', 'twoQuanta'] },
      { name: 'is', args: ['quantum', 'unity'] },
      { name: 'is', args: ['exponent', 'affirmativeMoment'] },
      { name: 'is', args: ['exponent', 'negation'] },
      { name: 'is', args: ['exponent', 'negativeUnity'] },
      { name: 'is', args: ['exponent', 'limit'] }
    ],
    relations: [
      { predicate: 'is', from: 'quantum', to: 'selfDetermining' },
      { predicate: 'is', from: 'exponent', to: 'limit' }
    ],
    candidateSummary:
      'Qualitative nature: Quantum is self-determining, displaying limit within. (1) Immediate magnitude. (2) Limit - distinguished into two quanta. Quantum is unity (product). Exponent is affirmative and negation. (3) Exponent is negative unity, limit of reciprocal limiting.'
  },

  {
    id: 'op-inverse-3',
    chunkId: 'inverse-reciprocal-limiting',
    label: 'Reciprocal limiting: each contains other',
    clauses: [
      'Two moments limit themselves inside exponent',
      'Each is negative of other',
      'One becomes smaller as other becomes greater',
      'Each possesses magnitude to extent it is magnitude other lacks',
      'Each continues into other negatively',
      'Each contains other, is proportioned to it',
      'Magnitude of other indispensable to value of each'
    ],
    predicates: [
      { name: 'limit', args: ['moments', 'themselves'] },
      { name: 'is', args: ['each', 'negative'] },
      { name: 'becomes', args: ['one', 'smaller'] },
      { name: 'becomes', args: ['other', 'greater'] },
      { name: 'possesses', args: ['each', 'magnitude'] },
      { name: 'is', args: ['magnitude', 'magnitudeOtherLacks'] },
      { name: 'continues', args: ['each', 'other'] },
      { name: 'contains', args: ['each', 'other'] },
      { name: 'is', args: ['each', 'proportioned'] },
      { name: 'is', args: ['magnitudeOfOther', 'indispensable'] }
    ],
    relations: [
      { predicate: 'is', from: 'each', to: 'negativeOfOther' },
      { predicate: 'contains', from: 'each', to: 'other' }
    ],
    candidateSummary:
      'Reciprocal limiting: Two moments limit themselves inside exponent. Each is negative of other. One becomes smaller as other becomes greater. Each possesses magnitude to extent it is magnitude other lacks. Each contains other, is proportioned to it.'
  },

  {
    id: 'op-inverse-4',
    chunkId: 'inverse-bad-infinity',
    label: 'Bad infinity: sides approximate exponent',
    clauses: [
      'Unity (exponent) is in-itself of each',
      'Each can take from other only to make equal to in-itself',
      'Maximum in exponent',
      'Each loses determination making equal to in-itself',
      'Contradiction: in-itself vs moment',
      'Exponent is limit - sides approximate but cannot attain',
      'Bad infinity',
      'But infinite (exponent) is affirmatively present',
      'Simple quantum of exponent, unity of two'
    ],
    predicates: [
      { name: 'is', args: ['unity', 'inItself'] },
      { name: 'canTake', args: ['each', 'fromOther'] },
      { name: 'has', args: ['each', 'maximum'] },
      { name: 'loses', args: ['each', 'determination'] },
      { name: 'is', args: ['each', 'contradiction'] },
      { name: 'is', args: ['exponent', 'limit'] },
      { name: 'approximate', args: ['sides', 'exponent'] },
      { name: 'cannotAttain', args: ['sides', 'exponent'] },
      { name: 'is', args: ['infinity', 'bad'] },
      { name: 'is', args: ['infinite', 'affirmativelyPresent'] },
      { name: 'is', args: ['exponent', 'simpleQuantum'] },
      { name: 'is', args: ['exponent', 'unity'] }
    ],
    relations: [
      { predicate: 'approximate', from: 'sides', to: 'exponent' },
      { predicate: 'is', from: 'infinite', to: 'affirmativelyPresent' }
    ],
    candidateSummary:
      'Bad infinity: Unity (exponent) is in-itself of each. Each can take from other only to make equal to in-itself (maximum in exponent). Each loses determination - contradiction. Exponent is limit - sides approximate but cannot attain (bad infinity). But infinite is affirmatively present - simple quantum of exponent.'
  },

  {
    id: 'op-inverse-5',
    chunkId: 'inverse-transition-powers',
    label: 'Transition to ratio of powers',
    clauses: [
      'Exponent\'s fixity develops as mediation of itself with itself',
      'In its other (finite moments)',
      'Negation of negation posited (affirmative self-relation)',
      'Exponent as product is unity of unit/amount',
      'Encloses moments, refers itself to itself',
      'Difference developed into externality',
      'Qualitative being rejoins itself in externally existent otherness',
      'Exponent preserves itself in negation of indifferent subsistence',
      'Determining factor in self-surpassing',
      'Ratio determined as ratio of powers'
    ],
    predicates: [
      { name: 'develops', args: ['fixity', 'mediation'] },
      { name: 'is', args: ['mediation', 'withItself'] },
      { name: 'isPosited', args: ['negationOfNegation'] },
      { name: 'is', args: ['exponent', 'unity'] },
      { name: 'encloses', args: ['exponent', 'moments'] },
      { name: 'refers', args: ['exponent', 'itself'] },
      { name: 'isDeveloped', args: ['difference', 'externality'] },
      { name: 'rejoins', args: ['qualitativeBeing', 'itself'] },
      { name: 'preserves', args: ['exponent', 'itself'] },
      { name: 'is', args: ['exponent', 'determiningFactor'] },
      { name: 'is', args: ['ratio', 'ratioOfPowers'] }
    ],
    relations: [
      { predicate: 'develops', from: 'fixity', to: 'mediation' },
      { predicate: 'rejoins', from: 'qualitativeBeing', to: 'itself' },
      { predicate: 'is', from: 'ratio', to: 'ratioOfPowers' }
    ],
    candidateSummary:
      'Transition to powers: Exponent\'s fixity develops as mediation of itself with itself in its other. Negation of negation posited. Exponent as product is unity - encloses moments, refers itself to itself. Qualitative being rejoins itself in externality. Exponent preserves itself - determining factor. Ratio determined as ratio of powers.'
  }
];

/* minimal, stable accessors */
export function getChunk(oneBasedIndex: number): Chunk | null {
  return CANONICAL_CHUNKS[oneBasedIndex - 1] ?? null;
}

export function getChunkById(id: string): Chunk | null {
  return CANONICAL_CHUNKS.find((c) => c.id === id) ?? null;
}

export function getLogicalOpsForChunkId(chunkId: string): LogicalOperation[] {
  return LOGICAL_OPERATIONS.filter((op) => op.chunkId === chunkId);
}

export function getAllChunks(): Chunk[] {
  return CANONICAL_CHUNKS;
}

export function getLogicalOperations(): LogicalOperation[] {
  return LOGICAL_OPERATIONS;
}

