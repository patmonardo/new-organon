import type { Chunk, LogicalOperation } from '../../../types';

/*
  Direct Ratio — A. THE DIRECT RATIO

  This module translates the Direct Ratio section:
  - Ratio as qualitative moment: quantum qualitatively determined
  - Exponent: one determinateness/limit of both quanta
  - Unit and amount: moments appearing as quanta in ratio
  - Incompleteness: each side only one moment, not complete quantum
  - Transition to inverse ratio: exponent as product

  PHILOSOPHICAL NOTES:

  1. **Ratio as Qualitative Moment**:
     In ratio, quantum is qualitatively determined - referring to its beyond.
     Quantum continues in its beyond (another quantum). Each possesses determinateness
     in reference to other. In otherness, they return into themselves - what each is,
     it is in its other. The other constitutes determinateness of each.

  2. **Quantum as Relation**:
     Quantum is not only in relation but is itself posited as relation. As ratio,
     quantum gives expression to itself as self-enclosed totality, containing
     externality of its being-determined in itself. In this externality it is
     referred back to itself - infinite within.

  3. **Direct Ratio**:
     Qualitative moment does not yet emerge explicitly. Quantum posited as having
     determinateness in externality, still as quantum. Quantitative relation is
     contradiction of externality and self-reference. Exponent is one determinateness
     of both - unit and amount appear as quanta.

  4. **Transition to Inverse Ratio**:
     Exponent ought to be complete quantum but only has value of amount or unit.
     As quotient, it is not posited as determinant/qualitative unity. More real
     ratio arises where exponent has meaning of product - inverse ratio.

  5. **Connection to Laws of Mathematical Cognition**:
     Direct Ratio is the World/Law (Property) where quanta relate to each other.
     This establishes mathematical relations - the foundation for measures and
     the transition to EssentialRelation (Aspect) in Measure.
*/

// ============================================================================
// CHAPTER 3: RATIO OR THE QUANTITATIVE RELATION
// ============================================================================

export const CANONICAL_CHUNKS: Chunk[] = [
  {
    id: 'ratio-intro-qualitative-moment',
    title: 'Ratio: quantum qualitatively determined',
    text: `CHAPTER 3

Ratio or the quantitative relation

The infinity of quantum has been determined up to
the point where it is the negative beyond of quantum,
a beyond which quantum, however, has within it.
This beyond is the qualitative moment in general.
The infinite quantum, as the unity of the two moments,
of the quantitative and the qualitative determinateness,
is in the first instance ratio.

In ratio, quantum no longer has
a merely indifferent determinateness
but is qualitatively determined as
simply referring to its beyond.
It continues in its beyond, and this beyond is
at first just an other quantum.
Essentially, however, the two do not refer
to each other as external quanta
but each rather possesses its determinateness
in this reference to the other.
In this, in their otherness, they have
thus returned into themselves;
what each is, that it is in its other;
the other constitutes the determinateness of each.
The quantum's self-transcendence does not now mean, therefore,
that quantum has simply changed either into some other
or into its abstract other, into its abstract beyond,
but that there, in the other, it has attained its determinateness;
in its other, which is an other quantum, it finds itself.
The quality of quantum, its conceptual determinateness,
is its externality as such,
and in ratio quantum is now posited as having
its determinateness in this externality, in another quantum;
as being in its beyond what it is.
It is quanta that stand to each other in the connection
that has now come on the scene.
This connection is itself also a magnitude;
quantum is not only in relation,
but is itself posited as relation;
it is a quantum as such that has
that qualitative determinateness in itself.
So, as relation (as ratio),
quantum gives expression to itself as self-enclosed totality
and to its indifference to limit by containing
the externality of its being-determined in itself:
in this externality it is only referred back to itself
and is thus infinite within.`,
    summary:
      'Ratio: Infinite quantum is unity of quantitative/qualitative determinateness - ratio. Quantum qualitatively determined, referring to beyond. Each possesses determinateness in reference to other. In otherness, return into themselves. Quantum is itself posited as relation - self-enclosed totality, infinite within.'
  },

  {
    id: 'ratio-direct-intro',
    title: 'Direct ratio: qualitative moment not yet explicit',
    text: `Ratio in general is:

1. direct ratio.
In this, the qualitative moment does not
yet emerge explicitly as such;
in no other way except still as quantum is quantum posited
as having its determinateness in its externality.
In itself, however, the quantitative relation is
the contradiction of externality and self-reference,
the persistence of quanta and their negation.
Such a contradiction next sublates itself:

2. first inasmuch as in indirect or inverse ratio
the negation of each of the quanta is
as such co-posited in the alteration of the other,
and the variability of the direct ratio is itself posited;

3. but in the ratio of powers, the unity,
which in its difference refers back to itself,
proves to be a simple self-production of the quantum;
this qualitative moment itself,
finally posited in a simple determination
and as identical with the quantum, becomes measure.`,
    summary:
      'Direct ratio: Qualitative moment not yet explicit. Quantum posited as having determinateness in externality, still as quantum. Quantitative relation is contradiction of externality/self-reference. Contradiction sublates: (2) inverse ratio (negation co-posited), (3) ratio of powers (unity self-production) → measure.'
  },

  {
    id: 'ratio-direct-exponent',
    title: 'Exponent: one determinateness of both quanta',
    text: `A. THE DIRECT RATIO

1. In the ratio which, as immediate, is direct,
the determinateness of each quantum lies in
the reciprocal determinateness of the other.
There is only one determinateness or limit of both
one which is itself a quantum,
namely the exponent of the ratio.`,
    summary:
      'Direct ratio: Determinateness of each quantum lies in reciprocal determinateness of other. One determinateness/limit of both (itself a quantum) - the exponent.'
  },

  {
    id: 'ratio-direct-exponent-qualitative',
    title: 'Exponent as qualitatively determined quantum',
    text: `2. The exponent is some quantum or other;
however, in referring itself to itself
in the otherness which it has within it,
it is only a qualitatively determined quantum,
for its difference, its beyond and otherness, is in it.
This difference in the quantum is the difference of unit and amount;
the unit, which is the being-determined-for-itself;
the amount, which is the indifferent fluctuation of determinateness,
the external indifference of quantum.
Unit and amount were at first the moments of quantum;
now, in the ratio, in quantum as realized so far,
each of its moments appears as a quantum on its own
and as determinations of the existence of the quantum,
as delimitations against the otherwise
external, indifferent determinateness of magnitude.`,
    summary:
      'Exponent: Some quantum, but qualitatively determined (difference/beyond/otherness in it). Difference is unit and amount. Unit is being-determined-for-itself; amount is indifferent fluctuation. In ratio, each moment appears as quantum on its own - delimitations.'
  },

  {
    id: 'ratio-direct-exponent-meaning',
    title: 'Exponent: meaning of both determinations',
    text: `The exponent is this difference as simple determinateness,
that is, it has the meaning of both
determinations immediately in it.
First, it is a quantum and thus an amount.
If the one side of the ratio which is taken as
unit is expressed in a numerical one,
and has only the value of one,
then the other, the amount, is
the quantum of the exponent itself.
Second, it is simple determinateness as
the qualitative moment of the sides of the ratio.
When the quantum of the one side is determined,
the other is also determined by the exponent
and it is a matter of total indifference
how the first is determined;
it no longer has any meaning
as a quantum determined for itself
but can just as well be any other
quantum without thereby altering
the determinateness of the ratio,
which rests solely on the exponent.
The one side which is taken as unit always
remains unit however great it becomes,
and the other, however great it too thereby becomes,
must remain the same amount of that unit.`,
    summary:
      'Exponent: Difference as simple determinateness - meaning of both determinations. (1) Quantum/amount: if unit is one, amount is quantum of exponent. (2) Simple determinateness as qualitative moment: one side determined, other determined by exponent. Ratio rests solely on exponent - unit remains unit, other remains same amount.'
  },

  {
    id: 'ratio-direct-incompleteness',
    title: 'Incompleteness: each side only one moment',
    text: `3. Accordingly, the two truly constitute only one quantum;
the one side has only the value of unit
with respect to the other, not of an amount;
and the other only that of amount.
According to their conceptual determinateness,
therefore, they are themselves not complete quanta.
But this incompleteness is in them a negation,
and it is so not because of their general variability,
according to which one of them (any of the two)
can assume all possible magnitudes,
but because they are so determined that, as one is altered,
the other is increased or decreased in corresponding measure.
This means that, as indicated, only one of them,
the unit, is altered as quantum;
the other side, the amount, remains the same quantum of units,
and the first side too retains the value of a unit,
however much it is altered as quantum.
Each side is thus only one of the two moments of quantum,
and the self-subsistence which is their proper characteristic
is in principle negated;
in this qualitative combination they are to be
posited as negative with respect to each other.`,
    summary:
      'Incompleteness: Two constitute one quantum. One side is unit (not amount), other is amount. They are not complete quanta. Incompleteness is negation - not general variability but determined: as one altered, other increases/decreases. Only unit altered; amount remains same quantum of units. Each side only one moment - self-subsistence negated, negative with respect to each other.'
  },

  {
    id: 'ratio-direct-transition-inverse',
    title: 'Transition to inverse ratio: exponent as product',
    text: `The exponent ought to be the complete quantum,
since the determinations of both sides come together in it;
but in fact, even as quotient the exponent
only has the value of amount, or of unit.
There is nothing available for determining
which of the two sides of the relation would have to
be taken as the unit or as the amount;
if one side, quantum B,
is measured against quantum A as unit,
then the quotient C is the amount of such units;
but if A is itself taken as amount,
the quotient C is the unit which is required by
the amount A for the quantum B.
As exponent, therefore, this quotient is
not posited for what it ought to be,
namely the determinant of the ratio,
or the ratio's qualitative unity.
It is posited as such only to
the extent that its value is that
of the unity of the two moments,
of unit and amount.
And since these two sides, as quanta,
are indeed present as they should be
in the explicated quantum, in the ratio,
but at the same time have the value,
which is specific to them as the sides of the ratio,
of being incomplete quanta and of counting
only as one of those qualitative moments,
they are to be posited with this negation qualifying them.
Thus there arises a more real ratio,
one more in accordance with its definition,
one in which the exponent has the meaning
of the product of the sides.
In this determinateness,
it is the inverse ratio.`,
    summary:
      'Transition to inverse: Exponent ought to be complete quantum (determinations come together). But as quotient, only value of amount or unit. Not posited as determinant/qualitative unity. Sides are incomplete quanta - negation qualifying them. More real ratio arises: exponent as product of sides - inverse ratio.'
  }
];

export const LOGICAL_OPERATIONS: LogicalOperation[] = [
  {
    id: 'op-ratio-intro-1',
    chunkId: 'ratio-intro-qualitative-moment',
    label: 'Ratio: quantum qualitatively determined',
    clauses: [
      'Infinity of quantum: negative beyond within it',
      'Beyond is qualitative moment',
      'Infinite quantum is unity of quantitative/qualitative determinateness',
      'Infinite quantum is ratio',
      'Quantum qualitatively determined, referring to beyond',
      'Quantum continues in beyond (another quantum)',
      'Each possesses determinateness in reference to other',
      'In otherness, return into themselves',
      'What each is, it is in its other',
      'Other constitutes determinateness of each',
      'Quantum finds itself in other',
      'Quality of quantum is externality',
      'Quantum posited as having determinateness in externality',
      'Quantum is itself posited as relation',
      'As ratio, quantum is self-enclosed totality',
      'In externality, referred back to itself - infinite within'
    ],
    predicates: [
      { name: 'is', args: ['infinity', 'negativeBeyond'] },
      { name: 'is', args: ['beyond', 'qualitativeMoment'] },
      { name: 'is', args: ['infiniteQuantum', 'unity'] },
      { name: 'is', args: ['infiniteQuantum', 'ratio'] },
      { name: 'is', args: ['quantum', 'qualitativelyDetermined'] },
      { name: 'refersTo', args: ['quantum', 'beyond'] },
      { name: 'continues', args: ['quantum', 'beyond'] },
      { name: 'possesses', args: ['each', 'determinateness'] },
      { name: 'return', args: ['quanta', 'themselves'] },
      { name: 'is', args: ['each', 'inOther'] },
      { name: 'constitutes', args: ['other', 'determinateness'] },
      { name: 'finds', args: ['quantum', 'itself'] },
      { name: 'is', args: ['quality', 'externality'] },
      { name: 'isPosited', args: ['quantum', 'relation'] },
      { name: 'is', args: ['quantum', 'selfEnclosedTotality'] },
      { name: 'refersBack', args: ['quantum', 'itself'] },
      { name: 'is', args: ['quantum', 'infiniteWithin'] }
    ],
    relations: [
      { predicate: 'is', from: 'infiniteQuantum', to: 'ratio' },
      { predicate: 'possesses', from: 'eachQuantum', to: 'determinateness' },
      { predicate: 'isPosited', from: 'quantum', to: 'relation' }
    ],
    candidateSummary:
      'Ratio: Infinite quantum is unity of quantitative/qualitative determinateness - ratio. Quantum qualitatively determined, referring to beyond. Each possesses determinateness in reference to other. In otherness, return into themselves. Quantum is itself posited as relation - self-enclosed totality, infinite within.'
  },

  {
    id: 'op-ratio-direct-1',
    chunkId: 'ratio-direct-intro',
    label: 'Direct ratio: qualitative moment not yet explicit',
    clauses: [
      'Direct ratio: qualitative moment not yet explicit',
      'Quantum posited as having determinateness in externality, still as quantum',
      'Quantitative relation is contradiction of externality/self-reference',
      'Contradiction sublates: (2) inverse ratio (negation co-posited)',
      '(3) ratio of powers (unity self-production) → measure'
    ],
    predicates: [
      { name: 'isNot', args: ['qualitativeMoment', 'explicit'] },
      { name: 'isPosited', args: ['quantum', 'havingDeterminateness'] },
      { name: 'is', args: ['quantitativeRelation', 'contradiction'] },
      { name: 'sublates', args: ['contradiction'] },
      { name: 'is', args: ['inverseRatio', 'negationCoPosited'] },
      { name: 'is', args: ['ratioOfPowers', 'unitySelfProduction'] },
      { name: 'becomes', args: ['ratioOfPowers', 'measure'] }
    ],
    relations: [
      { predicate: 'sublates', from: 'contradiction', to: 'itself' },
      { predicate: 'becomes', from: 'ratioOfPowers', to: 'measure' }
    ],
    candidateSummary:
      'Direct ratio: Qualitative moment not yet explicit. Quantum posited as having determinateness in externality, still as quantum. Quantitative relation is contradiction. Contradiction sublates: inverse ratio → ratio of powers → measure.'
  },

  {
    id: 'op-ratio-direct-2',
    chunkId: 'ratio-direct-exponent',
    label: 'Exponent: one determinateness of both',
    clauses: [
      'Determinateness of each quantum lies in reciprocal determinateness',
      'One determinateness/limit of both',
      'Limit is itself a quantum',
      'Limit is exponent of ratio'
    ],
    predicates: [
      { name: 'liesIn', args: ['determinateness', 'reciprocalDeterminateness'] },
      { name: 'is', args: ['limit', 'oneDeterminateness'] },
      { name: 'is', args: ['limit', 'quantum'] },
      { name: 'is', args: ['limit', 'exponent'] }
    ],
    relations: [
      { predicate: 'liesIn', from: 'determinateness', to: 'reciprocalDeterminateness' },
      { predicate: 'is', from: 'limit', to: 'exponent' }
    ],
    candidateSummary:
      'Direct ratio: Determinateness of each lies in reciprocal determinateness. One determinateness/limit of both (itself a quantum) - the exponent.'
  },

  {
    id: 'op-ratio-direct-3',
    chunkId: 'ratio-direct-exponent-qualitative',
    label: 'Exponent as qualitatively determined',
    clauses: [
      'Exponent is some quantum',
      'But qualitatively determined (difference/beyond/otherness in it)',
      'Difference is unit and amount',
      'Unit is being-determined-for-itself',
      'Amount is indifferent fluctuation, external indifference',
      'In ratio, each moment appears as quantum on its own',
      'Moments are delimitations against external determinateness'
    ],
    predicates: [
      { name: 'is', args: ['exponent', 'quantum'] },
      { name: 'is', args: ['exponent', 'qualitativelyDetermined'] },
      { name: 'has', args: ['exponent', 'difference'] },
      { name: 'is', args: ['difference', 'unitAndAmount'] },
      { name: 'is', args: ['unit', 'beingDeterminedForItself'] },
      { name: 'is', args: ['amount', 'indifferentFluctuation'] },
      { name: 'appears', args: ['moment', 'quantum'] },
      { name: 'are', args: ['moments', 'delimitations'] }
    ],
    relations: [
      { predicate: 'is', from: 'exponent', to: 'qualitativelyDetermined' },
      { predicate: 'appears', from: 'moment', to: 'quantum' }
    ],
    candidateSummary:
      'Exponent: Some quantum, but qualitatively determined (difference/beyond/otherness in it). Difference is unit and amount. In ratio, each moment appears as quantum on its own - delimitations.'
  },

  {
    id: 'op-ratio-direct-4',
    chunkId: 'ratio-direct-exponent-meaning',
    label: 'Exponent: meaning of both determinations',
    clauses: [
      'Exponent is difference as simple determinateness',
      'Has meaning of both determinations',
      '(1) Quantum/amount: if unit is one, amount is quantum of exponent',
      '(2) Simple determinateness as qualitative moment',
      'One side determined, other determined by exponent',
      'Ratio rests solely on exponent',
      'Unit remains unit, other remains same amount'
    ],
    predicates: [
      { name: 'is', args: ['exponent', 'difference'] },
      { name: 'is', args: ['exponent', 'simpleDeterminateness'] },
      { name: 'has', args: ['exponent', 'meaning'] },
      { name: 'is', args: ['amount', 'quantumOfExponent'] },
      { name: 'is', args: ['exponent', 'qualitativeMoment'] },
      { name: 'isDetermined', args: ['other', 'byExponent'] },
      { name: 'rests', args: ['ratio', 'exponent'] },
      { name: 'remains', args: ['unit', 'unit'] },
      { name: 'remains', args: ['other', 'sameAmount'] }
    ],
    relations: [
      { predicate: 'has', from: 'exponent', to: 'meaning' },
      { predicate: 'rests', from: 'ratio', to: 'exponent' }
    ],
    candidateSummary:
      'Exponent: Difference as simple determinateness - meaning of both. (1) Quantum/amount. (2) Qualitative moment. Ratio rests solely on exponent - unit remains unit, other remains same amount.'
  },

  {
    id: 'op-ratio-direct-5',
    chunkId: 'ratio-direct-incompleteness',
    label: 'Incompleteness: each side only one moment',
    clauses: [
      'Two constitute one quantum',
      'One side is unit (not amount), other is amount',
      'They are not complete quanta',
      'Incompleteness is negation',
      'Not general variability but determined',
      'As one altered, other increases/decreases',
      'Only unit altered; amount remains same quantum of units',
      'Each side only one moment',
      'Self-subsistence negated, negative with respect to each other'
    ],
    predicates: [
      { name: 'constitute', args: ['two', 'oneQuantum'] },
      { name: 'is', args: ['oneSide', 'unit'] },
      { name: 'is', args: ['otherSide', 'amount'] },
      { name: 'areNot', args: ['sides', 'completeQuanta'] },
      { name: 'is', args: ['incompleteness', 'negation'] },
      { name: 'is', args: ['relation', 'determined'] },
      { name: 'increases', args: ['other'] },
      { name: 'decreases', args: ['other'] },
      { name: 'isAltered', args: ['unit'] },
      { name: 'remains', args: ['amount', 'same'] },
      { name: 'is', args: ['side', 'oneMoment'] },
      { name: 'isNegated', args: ['selfSubsistence'] },
      { name: 'areNegative', args: ['sides', 'eachOther'] }
    ],
    relations: [
      { predicate: 'constitute', from: 'twoSides', to: 'oneQuantum' },
      { predicate: 'areNegative', from: 'sides', to: 'eachOther' }
    ],
    candidateSummary:
      'Incompleteness: Two constitute one quantum. One side is unit, other is amount. They are not complete quanta. Incompleteness is negation - determined relation. Each side only one moment - self-subsistence negated.'
  },

  {
    id: 'op-ratio-direct-6',
    chunkId: 'ratio-direct-transition-inverse',
    label: 'Transition to inverse ratio',
    clauses: [
      'Exponent ought to be complete quantum',
      'But as quotient, only value of amount or unit',
      'Not posited as determinant/qualitative unity',
      'Sides are incomplete quanta',
      'Negation qualifying them',
      'More real ratio arises',
      'Exponent as product of sides',
      'Inverse ratio'
    ],
    predicates: [
      { name: 'oughtToBe', args: ['exponent', 'completeQuantum'] },
      { name: 'has', args: ['quotient', 'value'] },
      { name: 'isNot', args: ['exponent', 'determinant'] },
      { name: 'are', args: ['sides', 'incompleteQuanta'] },
      { name: 'qualifies', args: ['negation', 'sides'] },
      { name: 'arises', args: ['moreRealRatio'] },
      { name: 'is', args: ['exponent', 'product'] },
      { name: 'is', args: ['ratio', 'inverse'] }
    ],
    relations: [
      { predicate: 'arises', from: 'moreRealRatio', to: 'existence' },
      { predicate: 'is', from: 'ratio', to: 'inverse' }
    ],
    candidateSummary:
      'Transition to inverse: Exponent ought to be complete quantum. But as quotient, only value of amount or unit. Sides are incomplete quanta - negation qualifying them. More real ratio: exponent as product - inverse ratio.'
  }
];

/* minimal, stable accessors */
export function getChunk(oneBasedIndex: number): Chunk | null {
  return CANONICAL_CHUNKS[oneBasedIndex - 1] ?? null;
}

export function getChunkById(id: string): Chunk | null {
  return CANONICAL_CHUNKS.find((c) => c.id === id) ?? null;
}

export function getLogicalOpsForChunkId(chunkId: string): LogicalOperation[] {
  return LOGICAL_OPERATIONS.filter((op) => op.chunkId === chunkId);
}

export function getAllChunks(): Chunk[] {
  return CANONICAL_CHUNKS;
}

export function getLogicalOperations(): LogicalOperation[] {
  return LOGICAL_OPERATIONS;
}

